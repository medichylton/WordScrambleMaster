import{r as e,a as t,R as o}from"./vendor-DtX1tuCI.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var r={exports:{}},n={},i=e,a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,c=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function p(e,t,o){var r,n={},i=null,l=null;for(r in void 0!==o&&(i=""+o),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!d.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===n[r]&&(n[r]=t[r]);return{$$typeof:a,type:e,key:i,ref:l,props:n,_owner:c.current}}n.Fragment=l,n.jsx=p,n.jsxs=p,r.exports=n;var g=r.exports,u={},h=t;function m(e,t){var o,r;switch(t.type){case"START_GAME":const n={...e,gamePhase:"selectingChallenge",currentRound:1,totalScore:0,coins:10,powerUps:[],currentChallenge:null,isGameActive:!0,gameStarted:!0,difficulty:(null==(o=t.payload)?void 0:o.stake)||"apprentice",difficultyStake:(null==(r=t.payload)?void 0:r.stake)||"apprentice"};return localStorage.setItem("wordScrambleGameState",JSON.stringify(n)),n;case"LOAD_GAME":return{...t.payload,gameStarted:!0,isGameActive:!0};case"SELECT_CHALLENGE":const i={...e,currentChallenge:t.payload.challenge||t.payload,gamePhase:"playingChallenge"};return localStorage.setItem("wordScrambleGameState",JSON.stringify(i)),i;case"COMPLETE_CHALLENGE":const{score:a,coins:l}=t.payload,s={...e,totalScore:e.totalScore+a,coins:e.coins+l,gamePhase:"shopping"};return localStorage.setItem("wordScrambleGameState",JSON.stringify(s)),s;case"PURCHASE_POWERUP":const c=t.payload;if(e.coins<c.cost)return e;const d={...e,coins:e.coins-c.cost,powerUps:[...e.powerUps,c]};return localStorage.setItem("wordScrambleGameState",JSON.stringify(d)),d;case"SPEND_COINS":const p=t.payload;if(e.coins<p)return e;const g={...e,coins:e.coins-p};return localStorage.setItem("wordScrambleGameState",JSON.stringify(g)),g;case"NEXT_ROUND":const u=e.currentRound+1;let h;return h=u>e.totalRounds?{...e,gamePhase:"victory"}:{...e,currentRound:u,gamePhase:"selectingChallenge"},localStorage.setItem("wordScrambleGameState",JSON.stringify(h)),h;case"GAME_OVER":const m={...e,gamePhase:"gameOver",isGameActive:!1};return localStorage.removeItem("wordScrambleGameState"),m;case"RESET_GAME":const x={currentRound:1,totalRounds:8,gamePhase:"menu",totalScore:0,coins:10,powerUps:[],currentChallenge:null,isGameActive:!1,difficulty:"apprentice",letterEnhancers:[],wordMultipliers:[],consumableBoosts:[],challengeProgress:{currentScore:0,wordsFound:[],timeRemaining:0,wordsRemaining:0,isCompleted:!1,bonusMultiplier:1,streakCount:0},isGameWon:!1,isGameLost:!1,difficultyStake:"apprentice",gameStarted:!1};return localStorage.removeItem("wordScrambleGameState"),x;case"SET_DIFFICULTY":return{...e,difficulty:t.payload};case"SUBMIT_WORD":case"USE_CONSUMABLE":default:return e;case"SKIP_CHALLENGE":const f={...e,gamePhase:"shopping"};return localStorage.setItem("wordScrambleGameState",JSON.stringify(f)),f;case"PURCHASE_ITEM":const y=t.payload.item;if(e.coins<y.cost)return e;const v={...e,coins:e.coins-y.cost};return localStorage.setItem("wordScrambleGameState",JSON.stringify(v)),v;case"LEAVE_SHOP":const b={...e,gamePhase:"selectingChallenge"};return localStorage.setItem("wordScrambleGameState",JSON.stringify(b)),b}}u.createRoot=h.createRoot,u.hydrateRoot=h.hydrateRoot;const x={currentRound:1,coins:10,totalScore:0,currentChallenge:null,letterEnhancers:[],wordMultipliers:[],consumableBoosts:[],challengeProgress:{currentScore:0,wordsFound:[],timeRemaining:0,wordsRemaining:0,isCompleted:!1,bonusMultiplier:1,streakCount:0},gamePhase:"menu",isGameWon:!1,isGameLost:!1,totalRounds:8,difficultyStake:"apprentice",gameStarted:!1,powerUps:[],isGameActive:!1,difficulty:"apprentice"},f=e.createContext(void 0);function y({children:t}){const[o,r]=e.useReducer(m,x),n={gameState:o,dispatch:r,startGame:e=>{r({type:"START_GAME",payload:{stake:e}})},selectChallenge:e=>{r({type:"SELECT_CHALLENGE",payload:{challenge:e}})},submitWord:(e,t,o)=>{r({type:"SUBMIT_WORD",payload:{word:e,positions:t,timeTaken:o}})},skipChallenge:e=>{r({type:"SKIP_CHALLENGE",payload:{challenge:e}})},purchaseItem:e=>o.coins>=e.cost&&(r({type:"PURCHASE_ITEM",payload:{item:e}}),!0),leaveShop:()=>{r({type:"LEAVE_SHOP"})},useConsumable:e=>{r({type:"USE_CONSUMABLE",payload:{boost:e}})},resetGame:()=>{r({type:"RESET_GAME"})}};return g.jsx(f.Provider,{value:n,children:t})}function v(){const t=e.useContext(f);if(void 0===t)throw new Error("useGame must be used within a GameProvider");return t}const b=()=>{const{dispatch:t}=v(),[o,r]=e.useState(!1),[n,i]=e.useState(!1);localStorage.getItem("wordScrambleGameState");const a=e=>{t({type:"START_GAME",payload:{stake:e}})};return g.jsxs("div",{className:"crt-screen",style:{width:"100vw",height:"calc(var(--vh, 1vh) * 100)",background:"var(--color-bg)",position:"fixed",top:0,left:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",color:"var(--color-text)",padding:"20px",boxSizing:"border-box",overflow:"hidden"},children:[g.jsx("div",{className:"power-led",style:{position:"absolute",top:"20px",right:"20px",width:"12px",height:"12px",background:"var(--color-text)"}}),g.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[g.jsx("h1",{style:{fontSize:"48px",fontWeight:"bold",color:"var(--color-text)",margin:"0 0 16px 0",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",letterSpacing:"4px",textTransform:"uppercase",lineHeight:"1"},children:"LETTRO"}),g.jsx("div",{style:{fontSize:"20px",fontWeight:"bold",background:"var(--color-accent)",color:"var(--color-bg)",padding:"8px 16px",border:"2px solid var(--color-text)",display:"inline-block",textTransform:"uppercase",letterSpacing:"2px"},children:"WORD SCRAMBLE MASTER"})]}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px",width:"100%",maxWidth:"400px",alignItems:"center"},children:[g.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"var(--color-text)",margin:"0 0 20px 0",textAlign:"center",textTransform:"uppercase",letterSpacing:"2px"},children:"SELECT CHALLENGE"}),g.jsx("button",{className:"gb-button",onClick:()=>a("Quick Blitz"),style:{width:"100%",fontSize:"20px",padding:"16px 24px",background:"var(--color-bg)",border:"3px solid var(--color-text)",color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer"},children:">> QUICK BLITZ - 30 PTS"}),g.jsx("button",{className:"gb-button",onClick:()=>a("Word Master"),style:{width:"100%",fontSize:"20px",padding:"16px 24px",background:"var(--color-bg)",border:"3px solid var(--color-text)",color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer"},children:"** WORD MASTER - 50 PTS"}),g.jsx("button",{className:"gb-button",onClick:()=>a("Ultimate Test"),style:{width:"100%",fontSize:"20px",padding:"16px 24px",background:"var(--color-bg)",border:"3px solid var(--color-text)",color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer"},children:"## ULTIMATE TEST - 75 PTS"})]}),g.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"20px",right:"20px",textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"16px",color:"var(--color-text)",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px"},children:"FIND WORDS IN THE GRID"}),g.jsx("div",{style:{fontSize:"14px",color:"var(--color-accent)",fontWeight:"bold",marginTop:"8px",textTransform:"uppercase"},children:"CONNECT ADJACENT LETTERS"})]}),g.jsxs("div",{style:{position:"absolute",bottom:"32px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"16px",zIndex:5},children:[g.jsx("button",{onClick:()=>r(!0),className:"gb-button",style:{padding:"6px 12px",fontSize:"clamp(8px, 2.2vw, 11px)",background:"var(--gb-light)",color:"var(--gb-darkest)"},children:"[?] HELP"}),g.jsx("button",{onClick:()=>i(!0),className:"gb-button",style:{padding:"6px 12px",fontSize:"clamp(8px, 2.2vw, 11px)",background:"var(--gb-light)",color:"var(--gb-darkest)"},children:"[*] SETTINGS"})]}),o&&g.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(15, 56, 15, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:g.jsxs("div",{className:"gb-container",style:{maxWidth:"400px",maxHeight:"80vh",overflow:"auto",background:"var(--gb-screen-bg)",padding:"20px"},children:[g.jsx("h2",{className:"gb-text",style:{fontSize:"clamp(12px, 4vw, 18px)",marginBottom:"16px",textAlign:"center",color:"var(--gb-darkest)"},children:"[?] HOW TO PLAY"}),g.jsxs("div",{className:"gb-text",style:{fontSize:"clamp(8px, 2.5vw, 12px)",lineHeight:"1.4",marginBottom:"16px",color:"var(--gb-darkest)"},children:[g.jsxs("div",{style:{marginBottom:"12px"},children:[g.jsx("strong",{children:"OBJECTIVE:"}),g.jsx("br",{}),"Find words by connecting adjacent letters on the grid."]}),g.jsxs("div",{style:{marginBottom:"12px"},children:[g.jsx("strong",{children:"CONTROLS:"}),g.jsx("br",{}),"• Tap letters to select them",g.jsx("br",{}),"• Connect adjacent letters (including diagonals)",g.jsx("br",{}),"• Tap the last letter again to submit word"]}),g.jsxs("div",{style:{marginBottom:"12px"},children:[g.jsx("strong",{children:"SCORING:"}),g.jsx("br",{}),"• 2-letter words: 3 points",g.jsx("br",{}),"• 3-4 letter words: 5 points",g.jsx("br",{}),"• 5+ letter words: 8-25 points"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"TIPS:"}),g.jsx("br",{}),"• Longer words score more points",g.jsx("br",{}),"• Look for common word patterns",g.jsx("br",{}),"• Use all available time wisely"]})]}),g.jsx("button",{onClick:()=>r(!1),className:"gb-button",style:{width:"100%",padding:"8px",fontSize:"clamp(9px, 2.8vw, 13px)",background:"var(--gb-dark)",color:"var(--gb-lightest)"},children:"[B] BACK"})]})}),n&&g.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(15, 56, 15, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:g.jsxs("div",{className:"gb-container",style:{maxWidth:"350px",background:"var(--gb-screen-bg)",padding:"20px"},children:[g.jsx("h2",{className:"gb-text",style:{fontSize:"clamp(12px, 4vw, 18px)",marginBottom:"16px",textAlign:"center",color:"var(--gb-darkest)"},children:"[*] SETTINGS"}),g.jsxs("div",{className:"gb-text",style:{fontSize:"clamp(9px, 2.8vw, 13px)",lineHeight:"1.4",marginBottom:"16px",color:"var(--gb-darkest)",textAlign:"center"},children:["Game Boy Edition v2.0",g.jsx("br",{}),"Authentic 8-bit Experience",g.jsx("br",{}),g.jsx("br",{}),"Sound: ON",g.jsx("br",{}),"Difficulty: Balanced",g.jsx("br",{}),"Screen: CRT Mode"]}),g.jsx("button",{onClick:()=>i(!1),className:"gb-button",style:{width:"100%",padding:"8px",fontSize:"clamp(9px, 2.8vw, 13px)",background:"var(--gb-dark)",color:"var(--gb-lightest)"},children:"[B] BACK"})]})})]})};if("undefined"!=typeof document){const e=document.createElement("style");e.textContent="\n@keyframes gb-symbol-pulse {\n  0%, 100% { \n    transform: scale(1);\n    opacity: 1;\n  }\n  50% { \n    transform: scale(1.1);\n    opacity: 0.8;\n  }\n}\n",document.head.appendChild(e)}const w=new Set(["aa","ab","ad","ae","ag","ah","ai","al","am","an","ar","as","at","aw","ax","ay","ba","be","bi","bo","by","da","de","do","ed","ef","eh","el","em","en","er","es","et","ex","fa","fe","go","ha","he","hi","hm","ho","id","if","in","is","it","jo","ka","ki","la","li","lo","ma","me","mi","mm","mo","mu","my","na","ne","no","nu","od","oe","of","oh","oi","ok","om","on","op","or","os","ow","ox","oy","pa","pe","pi","qi","re","sh","si","so","ta","ti","to","uh","um","un","up","us","ut","we","wo","xi","xu","ya","ye","yo","za","the","and","for","are","but","not","you","all","can","had","her","was","one","our","out","day","get","has","him","his","how","man","new","now","old","see","two","way","who","boy","did","its","let","put","say","she","too","use","cat","dog","run","big","red","top","hot","cut","yes","try","ask","own","sit","eat","far","sea","eye","car","got","lot","yet","arm","off","bad","bag","bed","box","buy","cup","end","few","fun","gun","job","key","kid","law","leg","lie","map","pay","pop","sun","tax","war","win","bit","die","due","ear","egg","fly","gas","hit","ice","joy","log","mix","oil","pan","pie","row","sad","sky","tip","toy","web","zoo","age","air","art","bee","bet","bus","cry","dry","fat","fix","god","hug","ink","jam","lap","mad","net","oak","pet","rat","set","tap","van","wet","zip","eel","peel","feel","reel","heel","keel","teel","bell","cell","dell","fell","hell","jell","sell","tell","well","yell","ball","call","fall","gall","hall","mall","pall","tall","wall","bill","dill","fill","gill","hill","kill","mill","pill","sill","till","will","bull","cull","dull","full","gull","hull","lull","mull","null","pull","that","with","have","this","will","your","from","they","know","want","been","good","much","some","time","very","when","come","here","just","like","long","make","many","over","such","take","than","them","well","were","what","year","work","back","call","came","each","even","find","give","hand","high","keep","kind","last","left","life","live","look","made","most","move","must","name","need","next","open","part","play","said","same","seem","show","side","tell","turn","used","ways","week","went","word","book","case","door","face","fact","game","girl","help","home","hope","hour","idea","line","list","love","mind","news","only","page","plan","read","real","room","seen","sort","talk","team","test","then","tree","true","walk","wall","wife","yard","able","area","army","away","baby","ball","band","bank","base","beat","best","bill","bird","blue","boat","body","born","both","boys","busy","care","cars","city","club","cold","cool","cost","dark","data","days","dead","deal","dear","does","done","down","drop","drug","easy","else","eyes","fall","fast","feel","feet","fell","felt","file","fill","film","fire","fish","five","food","foot","form","four","free","full","gave","gets","goes","gold","gone","grew","grow","guys","half","hall","hard","head","hear","held","hell","hide","hold","hole","holy","huge","hurt","jobs","join","jump","june","kept","kids","kill","knew","land","late","lead","less","lies","live","load","loan","lock","lose","loss","lost","lots","luck","mail","main","male","mark","mass","mean","meet","miss","mode","moon","near","neck","nice","nine","none","nose","note","okay","once","park","pass","past","path","pick","pink","plus","poll","pool","poor","push","race","rain","rate","rich","ride","ring","rise","risk","rock","role","roll","rule","runs","safe","sale","save","seat","sell","send","sent","ship","shop","shot","sick","sign","size","skin","slip","slow","snow","soft","soil","sold","song","soon","soul","spot","star","stay","step","stop","sure","task","tend","term","text","thin","tied","ties","till","tiny","told","tone","took","tool","tops","town","trip","unit","upon","user","vary","vast","vote","wage","wait","wake","warm","wash","wave","ways","weak","wear","west","wide","wild","wind","wine","wins","wire","wise","wish","wood","wore","worn","yeah","zone","about","after","again","alone","along","among","being","below","could","doing","every","first","found","great","group","house","large","might","never","other","place","right","small","sound","still","these","think","three","under","water","where","which","while","world","would","write","young","above","admit","agree","ahead","alive","allow","anger","angry","apart","apple","apply","arena","argue","arise","armed","array","aside","asset","avoid","awake","award","aware","badly","basic","beach","began","begin","belly","bench","birth","black","blame","blank","blind","block","blood","board","boost","booth","bound","brain","brand","brave","bread","break","breed","brief","bring","broad","broke","brown","build","built","buyer","cable","catch","cause","chain","chair","chaos","charm","chart","chase","cheap","check","chest","child","china","chose","civil","claim","class","clean","clear","click","climb","clock","close","cloud","coach","coast","count","court","cover","craft","crash","crazy","cream","crime","cross","crowd","crown","crude","curve","cycle","daily","dance","dated","dealt","death","debut","delay","depth","doubt","dozen","draft","drama","drank","dream","dress","drill","drink","drive","drove","dying","eager","early","earth","eight","elite","empty","enemy","enjoy","enter","entry","equal","error","event","exact","exist","extra","faith","false","fault","fiber","field","fifth","fifty","fight","final","fixed","flash","fleet","floor","fluid","focus","force","forth","forty","forum","frame","frank","fraud","fresh","front","fruit","fully","funny","giant","given","glass","globe","going","grace","grade","grand","grant","grass","grave","green","gross","grown","guard","guess","guest","guide","happy","heart","heavy","hence","horse","hotel","human","hurry","image","index","inner","input","issue","japan","joint","judge","known","label","laser","later","laugh","layer","learn","lease","least","leave","legal","level","light","limit","links","lives","local","loose","lower","lucky","lunch","lying","magic","major","maker","march","match","maybe","mayor","meant","media","metal","minor","minus","mixed","model","money","month","moral","motor","mount","mouse","mouth","moved","movie","music","needs","newly","night","noise","north","noted","novel","nurse","occur","ocean","offer","often","order","ought","paint","panel","paper","party","peace","phase","phone","photo","piano","piece","pilot","pitch","plain","plane","plant","plate","point","pound","power","press","price","pride","prime","print","prior","prize","proof","proud","prove","queen","quick","quiet","quite","radio","raise","range","rapid","ratio","reach","ready","realm","rebel","refer","relax","repay","reply","rigid","rival","river","robin","roger","roman","rough","round","route","royal","rural","scale","scene","scope","score","sense","serve","seven","shall","shape","share","sharp","sheet","shelf","shell","shift","shine","shirt","shock","shoot","short","shown","sides","sight","silly","since","sixth","sixty","sized","skill","sleep","slide","smart","smile","smith","smoke","snake","solid","solve","sorry","south","space","spare","speak","speed","spend","spent","split","spoke","sport","staff","stage","stake","stand","start","state","steam","steel","steep","steer","stick","stock","stone","stood","store","storm","story","strip","stuck","study","stuff","style","sugar","suite","super","sweet","swift","swing","swiss","table","taken","taste","taxes","teach","tends","terry","texas","thank","theft","their","theme","there","thick","thing","third","those","threw","throw","thumb","tight","tired","title","today","topic","total","touch","tough","tower","track","trade","train","treat","trend","trial","tribe","trick","tried","tries","truly","trunk","trust","truth","twice","twist","tyler","ultra","uncle","undue","union","unity","until","upper","upset","urban","usage","usual","valid","value","video","virus","visit","vital","vocal","voice","waste","watch","wheel","white","whole","whose","woman","women","worry","worse","worst","worth","write","wrong","wrote","yield","youth","should","around","through","during","follow","without","another","between","nothing","someone","something","because","before","against","thought","little","number","people","really","school","always","enough","almost","second","family","system","within","rather","across","change","course","action","figure","friend","ground","happen","better","cannot","common","create","degree","detail","either","father","finger","gather","govern","health","height","indeed","inside","itself","letter","listen","living","making","market","matter","member","method","middle","minute","modern","moment","mother","moving","nation","nature","nearly","notice","object","office","opened","option","others","parent","period","person","please","policy","pretty","public","reason","record","remain","remove","report","result","return","season","senior","simple","single","sister","social","source","spirit","spread","spring","square","street","strong","summer","supply","switch","taking","theory","things","though","thrown","toward","travel","trying","turned","unique","unless","unlike","update","useful","valley","volume","weight","winter","wonder","worked","worker","writer"]),S=new Map,j=new Map;let k=0;const E=[["A","A","E","E","G","N"],["E","L","R","T","T","Y"],["A","O","O","T","T","W"],["A","B","B","J","O","O"],["E","H","R","T","V","W"],["C","I","M","O","T","U"],["D","I","S","T","T","Y"],["E","I","O","S","S","T"],["D","E","L","R","V","Y"],["A","C","H","O","P","S"],["H","I","M","N","Q","U"],["E","E","I","N","S","U"],["E","E","G","H","N","W"],["A","F","F","K","P","S"],["H","L","N","N","R","Z"],["D","E","I","L","R","X"]];async function C(e){var t,o,r,n;if(e.length<2)return!1;const i=e.toLowerCase();if(S.has(i))return S.get(i);if(w.has(i))return S.set(i,!0),!0;const a=Date.now();a-k<100&&await new Promise(e=>setTimeout(e,100-(a-k))),k=Date.now();try{const e=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${i}`);if(e.ok){const a=await e.json();if(Array.isArray(a)&&a.length>0)return S.set(i,!0),(null==(n=null==(r=null==(o=null==(t=a[0].meanings)?void 0:t[0])?void 0:o.definitions)?void 0:r[0])?void 0:n.definition)&&j.set(i,a[0].meanings[0].definitions[0].definition),!0}return S.set(i,!1),!1}catch(l){const e=w.has(i);return S.set(i,e),e}}function T(){const e=[],t=[...E].sort(()=>Math.random()-.5);for(let o=0;o<4;o++){e[o]=[];for(let r=0;r<4;r++){const n=t[4*o+r],i=n[Math.floor(Math.random()*n.length)];e[o][r]="Q"===i?"QU":i}}return e}function N(e,t){if(t.length<2)return!1;const o=new Set;for(let r=0;r<t.length;r++){const{row:n,col:i}=t[r];if(n<0||n>=e.length||i<0||i>=e[0].length)return!1;const a=`${n},${i}`;if(o.has(a))return!1;if(o.add(a),r>0){if(!M(t[r-1],{row:n,col:i}))return!1}}return!0}function M(e,t){const o=Math.abs(e.row-t.row),r=Math.abs(e.col-t.col);return o<=1&&r<=1&&!(0===o&&0===r)}async function A(){try{const e="test";if(await C(e)){return{success:!0,message:`API working! "${e}" is valid. Definition: ${await async function(e){var t,o,r,n;const i=e.toLowerCase();if(j.has(i))return j.get(i);try{const e=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${i}`);if(e.ok){const a=await e.json();if(Array.isArray(a)&&a.length>0&&(null==(n=null==(r=null==(o=null==(t=a[0].meanings)?void 0:t[0])?void 0:o.definitions)?void 0:r[0])?void 0:n.definition)){const e=a[0].meanings[0].definitions[0].definition;return j.set(i,e),e}}return null}catch(a){return null}}(e)||"No definition available"}`}}return{success:!1,message:"API responded but word validation failed"}}catch(e){return{success:!1,message:`API test failed: ${e instanceof Error?e.message:"Unknown error"}`}}}function L({onWordFound:t,onScoreUpdate:o,onCurrentWordChange:r,timeRemaining:n,hideWordDisplay:i=!1,foundWords:a=[]}){var l,s;const{gameState:c}=v(),[d,p]=e.useState([]),[u,h]=e.useState([]),[m,x]=e.useState(""),[f,y]=e.useState([]),[b,j]=e.useState(!1),[k,E]=e.useState("unknown"),[A,L]=e.useState([]),[I,W]=e.useState(0),[R,z]=e.useState(new Set),O=a.length>0?a:f,_=c.powerUps.some(e=>"goldenLetters"===e.effect.type),P=c.powerUps.some(e=>"vowelBonus"===e.effect.type);c.powerUps.some(e=>"letterGod"===e.effect.type);const G=(null==(l=c.powerUps.find(e=>"chainMultiplier"===e.effect.type))?void 0:l.effect.value)||0,B=(null==(s=c.powerUps.find(e=>"letterMultiplier"===e.effect.type))?void 0:s.effect.value)||0,U=c.powerUps.find(e=>"longWordMultiplier"===e.effect.type),H=c.powerUps.find(e=>"exponentialGrowth"===e.effect.type);e.useEffect(()=>{var e;const t=T();if(p(t),_){const o=(null==(e=c.powerUps.find(e=>"goldenLetters"===e.effect.type))?void 0:e.effect.count)||3,r=t.flat(),n=new Set;for(let e=0;e<o&&e<r.length;e++){const e=Math.floor(Math.random()*r.length);n.add(`${Math.floor(e/4)}-${e%4}`)}z(n)}},[_]),e.useEffect(()=>{if(u.length>0){const e=function(e,t){return t.map(({row:t,col:o})=>e[t][o]).join("").toLowerCase()}(d,u);if(x(e),null==r||r(e),!N(d,u))return void E("invalid");if(e.length>=2)if(O.includes(e))E("already-found");else{const t=function(e){if(e.length<2)return!1;const t=e.toLowerCase();return S.has(t)?S.get(t):!!w.has(t)||null}(e);!0===t?E("valid"):!1===t?E("invalid"):(E("checking"),C(e).then(e=>{E(e?"valid":"invalid")}))}else E("unknown")}else x(""),E("unknown"),null==r||r("")},[u,d,r,O]);const D=e=>{var t;let o=function(e,t=1,o="medium"){const r=e.length;let n=0;if(2===r)n=3;else if(r>=3&&r<=4)n=5;else if(5===r)n=8;else if(6===r)n=12;else if(7===r)n=18;else{if(!(r>=8))return 0;n=25}const i={easy:1.2,medium:1.5,hard:2}[o],a=function(e){const t={A:1,E:1,I:1,O:1,U:1,L:1,N:1,S:1,T:1,R:1,D:2,G:2,B:3,C:3,M:3,P:3,F:4,H:4,V:4,W:4,Y:4,K:5,J:8,X:8,Q:10,Z:10};let o=0;for(const r of e.toUpperCase())"U"===r&&e.toUpperCase().includes("QU")||(o+=t[r]||1);return 1+o/e.length/10}(e),l=Math.floor(n*i*a*t);return Math.max(l,3)}(e,n>60?1.5:n>30?1.2:1);if(B>0&&(o+=e.length*B),P){const r=(null==(t=c.powerUps.find(e=>"vowelBonus"===e.effect.type))?void 0:t.effect.value)||2;o+=e.split("").filter(e=>"aeiouAEIOU".includes(e)).length*r}G>0&&(o+=I*G),U&&e.length>=U.minLength&&(o*=U.multiplier);const r=u.filter(e=>R.has(`${e.row}-${e.col}`)).length;if(r>0&&(o*=1+2*r),H){o*=Math.pow(H.multiplier,O.length)}return Math.round(o)},F=(e,t,o)=>{const r=Y(e,t),n=q(e,t),i=((e,t)=>R.has(`${e}-${t}`))(e,t),a=P&&(e=>"aeiouAEIOU".includes(e))(o);let l="var(--color-bg)",s="var(--color-text)",c="3px solid var(--color-text)";return r?(l="var(--color-text)",s="var(--color-bg)",c="3px solid var(--color-text)"):n?(l="var(--color-accent)",s="var(--color-bg)",c="3px solid var(--color-text)"):(i||a)&&(l="var(--color-accent)",s="var(--color-text)",c="4px solid var(--color-text)"),{background:l,color:s,border:c,fontWeight:i||a?"bold":"normal"}},$=(e,t)=>{const o=document.elementFromPoint(e,t);if(o&&o.hasAttribute("data-row")&&o.hasAttribute("data-col")){return{row:parseInt(o.getAttribute("data-row")||"0"),col:parseInt(o.getAttribute("data-col")||"0")}}return null},V=async()=>{if(m.length>=2&&!O.includes(m)){if(!N(d,u))return void(navigator.vibrate&&navigator.vibrate(100));let e=!1;if(e="checking"===k?await C(m):"valid"===k,e){const e=D(m);G>0&&W(e=>e+1);const r={word:m,path:[...u],score:e,timestamp:Date.now()};L(e=>[...e,r]),0===a.length&&y([...f,m]),t(m,e),o(e),navigator.vibrate&&navigator.vibrate([50,50,50])}else navigator.vibrate&&navigator.vibrate(100)}},Y=(e,t)=>u.some(o=>o.row===e&&o.col===t),q=(e,t)=>{const o=u.findIndex(o=>o.row===e&&o.col===t);return-1!==o&&o<u.length-1};return g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[!i&&g.jsxs("div",{style:{fontSize:"24px",fontWeight:"bold",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",textTransform:"uppercase",minHeight:"24px",textAlign:"center",padding:"12px 20px",background:"var(--color-accent)",color:"var(--color-bg)",border:"3px solid var(--color-text)"},children:[m||"SELECT LETTERS","checking"===k&&g.jsx("span",{style:{marginLeft:"8px",fontSize:"16px"},children:"[?]"}),u.length>0&&!N(d,u)&&g.jsx("span",{style:{marginLeft:"8px",fontSize:"16px"},children:"[X]"})]}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px",padding:"20px",background:"var(--color-bg)",border:"4px solid var(--color-text)"},onTouchStart:e=>{e.preventDefault();const t=e.touches[0],o=$(t.clientX,t.clientY);o&&(j(!0),h([o]),navigator.vibrate&&navigator.vibrate(10))},onTouchMove:e=>{if(e.preventDefault(),!b)return;const t=e.touches[0],o=$(t.clientX,t.clientY);if(!o)return;const r=u.findIndex(e=>e.row===o.row&&e.col===o.col);if(-1!==r)h(u.slice(0,r+1));else if(u.length>0){M(u[u.length-1],o)&&(h([...u,o]),navigator.vibrate&&navigator.vibrate(5))}},onTouchEnd:async e=>{e.preventDefault(),b&&(j(!1),await V(),h([]))},onMouseUp:async()=>{b&&(j(!1),await V(),h([]))},children:d.map((e,t)=>e.map((e,o)=>{Y(t,o),q(t,o);const r=((e,t)=>{const o=u.findIndex(o=>o.row===e&&o.col===t);return-1!==o?o+1:0})(t,o),n=F(t,o,e);return g.jsxs("div",{"data-row":t,"data-col":o,style:{...n,width:"70px",height:"70px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",fontWeight:"bold",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",cursor:"pointer",userSelect:"none",textTransform:"uppercase",position:"relative"},onMouseDown:()=>((e,t)=>{j(!0),h([{row:e,col:t}])})(t,o),onMouseEnter:()=>((e,t)=>{if(!b)return;const o={row:e,col:t},r=u.findIndex(o=>o.row===e&&o.col===t);-1!==r?h(u.slice(0,r+1)):u.length>0&&M(u[u.length-1],o)&&h([...u,o])})(t,o),children:[e,r>0&&g.jsx("div",{style:{position:"absolute",top:"2px",right:"2px",fontSize:"12px",fontWeight:"bold",color:"var(--color-bg)",background:"var(--color-text)",borderRadius:"50%",width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:r})]},`${t}-${o}`)}))}),g.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",marginTop:"20px"},children:[g.jsx("button",{onClick:async()=>{m.length>=2&&!O.includes(m)&&await V(),h([]),x(""),E("unknown")},className:"gb-button",disabled:m.length<2||O.includes(m)||"invalid"===k||u.length>0&&!N(d,u),style:{fontSize:"16px",padding:"12px 20px",background:m.length>=2&&!O.includes(m)&&"invalid"!==k?"var(--color-text)":"var(--color-accent)",color:m.length>=2&&!O.includes(m)&&"invalid"!==k?"var(--color-bg)":"var(--color-text)",border:"3px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer",opacity:m.length>=2&&!O.includes(m)&&"invalid"!==k?1:.5},children:"SUBMIT"}),g.jsx("button",{onClick:()=>{h([]),j(!1),x(""),E("unknown")},className:"gb-button",style:{fontSize:"16px",padding:"12px 20px",background:"var(--color-bg)",color:"var(--color-text)",border:"3px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer"},children:"CLEAR"}),g.jsx("button",{onClick:()=>{p(T()),0===a.length&&y([]),h([]),x(""),E("unknown"),L([])},className:"gb-button",style:{fontSize:"16px",padding:"12px 20px",background:"var(--color-bg)",color:"var(--color-text)",border:"3px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer"},children:"SHUFFLE"})]}),!1]})}function I(){const{gameState:e,resetGame:t,selectChallenge:o,dispatch:r}=v();return g.jsxs("div",{className:"game-interface",children:["selectingChallenge"===e.gamePhase&&g.jsx(W,{}),"playingChallenge"===e.gamePhase&&g.jsx(R,{}),"shopping"===e.gamePhase&&g.jsx(_,{}),"gameOver"===e.gamePhase&&g.jsx(z,{}),"victory"===e.gamePhase&&g.jsx(O,{})]})}function W(){const{selectChallenge:t}=v(),[o,r]=e.useState("");return g.jsxs("div",{style:{width:"100vw",height:"calc(var(--vh, 1vh) * 100)",background:"var(--color-bg)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",position:"fixed",top:0,left:0},children:[g.jsx("div",{style:{marginBottom:"40px",fontSize:"28px",fontWeight:"bold",color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",textTransform:"uppercase",textAlign:"center"},children:"[>] CHOOSE YOUR CHALLENGE [<]"}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px",width:"100%",maxWidth:"400px"},children:[{type:"quick",name:"QUICK BLITZ",description:"Fast-paced word hunting",icon:">>",targetScore:30,timeLimit:90,coinReward:15,color:"var(--color-text)"},{type:"standard",name:"WORD MASTER",description:"Balanced challenge",icon:"**",targetScore:50,timeLimit:120,coinReward:25,color:"var(--color-text)"},{type:"boss",name:"ULTIMATE TEST",description:"Maximum difficulty",icon:"##",targetScore:75,timeLimit:180,coinReward:50,color:"var(--color-text)"}].map((e,n)=>g.jsxs("button",{className:"gb-button",onClick:()=>{r(e.type),setTimeout(()=>(e=>{const o={id:`${e.type}-${Date.now()}`,type:e.type,name:e.name,description:e.description,targetScore:e.targetScore,maxWords:"quick"===e.type?15:"standard"===e.type?25:35,timeLimit:e.timeLimit,coinReward:e.coinReward,specialRule:null,canSkip:!0};t(o)})(e),100)},style:{background:o===e.type?"var(--color-text)":"var(--color-bg)",color:o===e.type?"var(--color-bg)":"var(--color-text)",border:"4px solid var(--color-text)",padding:"20px",fontSize:"18px",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer",textAlign:"center",width:"100%"},children:[g.jsx("div",{style:{fontSize:"24px",marginBottom:"12px",fontWeight:"bold"},children:e.icon}),g.jsx("div",{style:{fontSize:"20px",marginBottom:"8px",fontWeight:"bold"},children:e.name}),g.jsx("div",{style:{fontSize:"14px",marginBottom:"12px",fontWeight:"normal"},children:e.description}),g.jsxs("div",{style:{fontSize:"14px",display:"flex",justifyContent:"space-between",width:"100%",fontWeight:"bold"},children:[g.jsxs("span",{children:["[*] ",e.targetScore,"PTS"]}),g.jsxs("span",{children:["[T] ",Math.floor(e.timeLimit/60),":",(e.timeLimit%60).toString().padStart(2,"0")]}),g.jsxs("span",{children:["[C] ",e.coinReward]})]})]},e.type))})]})}function R(){var t,o,r;const{gameState:n,dispatch:i}=v(),[a,l]=e.useState(0),[s,c]=e.useState((null==(t=n.currentChallenge)?void 0:t.timeLimit)||120),[d,p]=e.useState([]),[u,h]=e.useState(""),[m,x]=e.useState(null);e.useEffect(()=>{const e=setInterval(()=>{c(e=>e<=1?(f(),0):e-1)},1e3);return()=>clearInterval(e)},[]);const f=e=>{var t,o;const r=e||a,l=(null==(t=n.currentChallenge)?void 0:t.targetScore)||500,s=(null==(o=n.currentChallenge)?void 0:o.coinReward)||20;i(r>=l?{type:"COMPLETE_CHALLENGE",payload:{score:r,coins:s+Math.floor(r/100)}}:{type:"GAME_OVER"})},y=()=>{var e;const t=(null==(e=n.currentChallenge)?void 0:e.targetScore)||500;return Math.min(a/t*100,100)};return g.jsxs("div",{style:{width:"100vw",height:"calc(var(--vh, 1vh) * 100)",display:"flex",flexDirection:"column",background:"var(--color-bg)",overflow:"hidden",position:"fixed",top:0,left:0},children:[g.jsxs("div",{style:{background:"var(--color-bg)",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"3px solid var(--color-text)",zIndex:2,flexShrink:0,paddingTop:"calc(env(safe-area-inset-top, 0px) + 12px)",paddingBottom:"12px",paddingLeft:"12px",paddingRight:"12px",minHeight:"60px"},children:[g.jsxs("div",{style:{fontSize:"18px",color:"var(--color-text)",width:"70px",textAlign:"left",lineHeight:1.2,fontWeight:"bold"},children:["[C] ",n.coins]}),g.jsxs("div",{style:{position:"relative",fontSize:"32px",color:"var(--color-text)",fontWeight:"bold",textAlign:"center",minWidth:"90px",lineHeight:1},children:[a,m&&g.jsxs("div",{style:{position:"absolute",top:"-25px",right:"-10px",color:"var(--color-accent)",fontSize:"20px",pointerEvents:"none",fontWeight:"bold"},children:["+",m]})]}),g.jsxs("div",{style:{fontSize:"18px",color:"var(--color-text)",width:"70px",textAlign:"right",lineHeight:1.2,fontWeight:"bold"},children:["[*] ",null==(o=n.currentChallenge)?void 0:o.targetScore]})]}),g.jsx("div",{style:{height:"60px",background:"var(--color-accent)",display:"flex",alignItems:"center",justifyContent:"center",borderBottom:"3px solid var(--color-text)",zIndex:2,overflow:"hidden",flexShrink:0},children:g.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"90%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"var(--color-bg)",textTransform:"uppercase"},children:[u||"SELECT LETTERS",u.length>=3&&g.jsxs("span",{style:{marginLeft:"8px",fontSize:"16px",color:"var(--color-accent)",flexShrink:0,fontWeight:"bold"},children:["(",u.length,")"]})]})}),g.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",zIndex:1,minHeight:0,flexDirection:"column"},children:g.jsx(L,{onWordFound:(e,t)=>{p(t=>[...t,e]),l(e=>{var o;const r=e+t,i=(null==(o=n.currentChallenge)?void 0:o.targetScore)||500;return r>=i&&setTimeout(()=>{f(r)},1e3),r}),x(t);setTimeout(()=>x(null),t>=11?1500:t>=5?1200:1e3)},onScoreUpdate:e=>{},onCurrentWordChange:e=>{h(e)},timeRemaining:s,hideWordDisplay:!0,foundWords:d})}),g.jsxs("div",{style:{background:"var(--color-bg)",display:"flex",alignItems:"center",justifyContent:"space-around",borderTop:"3px solid var(--color-text)",zIndex:2,flexShrink:0,paddingTop:"16px",paddingBottom:"calc(env(safe-area-inset-bottom, 0px) + 16px)",paddingLeft:"16px",paddingRight:"16px",minHeight:"calc(100px + env(safe-area-inset-bottom, 0px))"},children:[g.jsxs("div",{style:{textAlign:"center",flex:1},children:[g.jsx("div",{style:{fontSize:"16px",color:"var(--color-text)",marginBottom:"4px",fontWeight:"bold"},children:"CHALLENGE"}),g.jsx("div",{style:{fontSize:"20px",color:"var(--color-accent)",fontWeight:"bold"},children:(null==(r=n.currentChallenge)?void 0:r.name)||"CHALLENGE"})]}),g.jsxs("div",{style:{textAlign:"center",flex:2},children:[g.jsxs("div",{style:{fontSize:"16px",color:"var(--color-text)",marginBottom:"4px",fontWeight:"bold"},children:["PROGRESS ",Math.round(y()),"%"]}),g.jsx("div",{style:{width:"100%",height:"12px",background:"var(--color-bg)",border:"2px solid var(--color-text)",position:"relative",overflow:"hidden"},children:g.jsx("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:`${y()}%`,background:y()>=100?"var(--color-text)":"var(--color-accent)",transition:"width 0.5s ease"}})})]}),g.jsxs("div",{style:{textAlign:"center",flex:1},children:[g.jsx("div",{style:{fontSize:"16px",color:"var(--color-text)",marginBottom:"4px",fontWeight:"bold"},children:"WORDS"}),g.jsx("div",{style:{fontSize:"20px",color:"var(--color-accent)",fontWeight:"bold"},children:d.length})]}),g.jsxs("div",{style:{textAlign:"center",flex:1},children:[g.jsx("div",{style:{fontSize:"16px",color:"var(--color-text)",marginBottom:"4px",fontWeight:"bold"},children:"TIME"}),g.jsx("div",{style:{fontSize:"20px",color:"var(--color-text)",fontWeight:"bold"},children:P(s)})]})]})]})}function z(){var e;const{resetGame:t,gameState:o}=v();return g.jsxs("div",{style:{width:"100vw",height:"calc(var(--vh, 1vh) * 100)",background:"var(--color-bg)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"fixed",top:0,left:0,padding:"20px",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace"},children:[g.jsx("div",{style:{fontSize:"48px",marginBottom:"20px",color:"var(--color-text)",fontWeight:"bold"},children:"[X]"}),g.jsx("div",{style:{fontSize:"32px",color:"var(--color-text)",marginBottom:"20px",fontWeight:"bold",textTransform:"uppercase"},children:"GAME OVER"}),g.jsx("div",{style:{fontSize:"18px",color:"var(--color-text)",marginBottom:"20px",fontWeight:"bold",textAlign:"center"},children:"BETTER LUCK NEXT TIME!"}),g.jsxs("div",{style:{fontSize:"14px",color:"var(--color-text)",marginBottom:"30px",textAlign:"center"},children:["YOU NEEDED ",null==(e=o.currentChallenge)?void 0:e.targetScore," POINTS TO WIN"]}),g.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:[g.jsx("button",{onClick:t,className:"gb-button",style:{fontSize:"16px",padding:"12px 20px"},children:"[R] TRY AGAIN"}),g.jsx("button",{onClick:()=>window.location.reload(),className:"gb-button",style:{fontSize:"16px",padding:"12px 20px"},children:"[H] MAIN MENU"})]})]})}function O(){var e;const{gameState:t,resetGame:o}=v();return g.jsxs("div",{style:{width:"100vw",height:"calc(var(--vh, 1vh) * 100)",background:"var(--color-bg)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"fixed",top:0,left:0,padding:"20px",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace"},children:[g.jsx("div",{style:{fontSize:"64px",marginBottom:"20px",color:"var(--color-text)",fontWeight:"bold"},children:"[!]"}),g.jsx("div",{style:{fontSize:"32px",color:"var(--color-text)",marginBottom:"20px",fontWeight:"bold",textTransform:"uppercase"},children:"VICTORY!"}),g.jsx("div",{style:{fontSize:"18px",color:"var(--color-text)",marginBottom:"20px",fontWeight:"bold",textAlign:"center"},children:"[*] CHALLENGE COMPLETE! [*]"}),g.jsxs("div",{style:{fontSize:"16px",margin:"20px 0",color:"var(--color-text)",fontWeight:"bold"},children:["[C] COINS EARNED: ",(null==(e=t.currentChallenge)?void 0:e.coinReward)||20]}),g.jsx("div",{style:{fontSize:"14px",color:"var(--color-text)",marginBottom:"30px",textAlign:"center"},children:"READY FOR THE NEXT CHALLENGE?"}),g.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:[g.jsx("button",{onClick:o,className:"gb-button",style:{fontSize:"16px",padding:"12px 20px",background:"var(--color-text)",color:"var(--color-bg)"},children:"[>] CONTINUE"}),g.jsx("button",{onClick:()=>window.location.reload(),className:"gb-button",style:{fontSize:"16px",padding:"12px 20px"},children:"[H] MAIN MENU"})]})]})}function _(){const{gameState:t,dispatch:o}=v(),[r,n]=e.useState(2),[i,a]=e.useState(()=>l());function l(){const e=[],o={common:70,uncommon:25,rare:4,legendary:1},r=Math.min(6,4+Math.floor(t.currentRound/3));for(let t=0;t<r;t++){const r=s(o);e.push(c(r,t))}return e}function s(e){const t=Object.values(e).reduce((e,t)=>e+t,0);let o=Math.random()*t;for(const[r,n]of Object.entries(e))if(o-=n,o<=0)return r;return"common"}function c(e,t){const o={common:[{id:`letter_boost_${t}`,name:"Letter Boost",description:"+3 points per letter in words",effect:{type:"letterMultiplier",value:3},cost:8,rarity:"common",emoji:"AB",synergy:["word_length"]},{id:`quick_hands_${t}`,name:"Quick Hands",description:"+1 Hand per round",effect:{type:"extraHands",value:1},cost:10,rarity:"common",emoji:">>",synergy:["efficiency"]},{id:`coin_magnet_${t}`,name:"Coin Magnet",description:"+2 coins per word found",effect:{type:"coinPerWord",value:2},cost:6,rarity:"common",emoji:"<>",synergy:["economy"]},{id:`vowel_power_${t}`,name:"Vowel Power",description:"Vowels glow and give +2 points",effect:{type:"vowelBonus",value:2},cost:12,rarity:"common",emoji:"AE",synergy:["letter_type"]}],uncommon:[{id:`word_chain_${t}`,name:"Word Chain",description:"Each consecutive word: +5 points",effect:{type:"chainMultiplier",value:5},cost:18,rarity:"uncommon",emoji:"++",synergy:["combo"]},{id:`double_score_${t}`,name:"Double Score",description:"2x points for 6+ letter words",effect:{type:"longWordMultiplier",minLength:6,multiplier:2},cost:25,rarity:"uncommon",emoji:"x2",synergy:["word_length"]},{id:`time_warp_${t}`,name:"Time Warp",description:"+45 seconds, but -1 Hand",effect:{type:"timeTradeoff",time:45,hands:-1},cost:20,rarity:"uncommon",emoji:"||",synergy:["efficiency"]},{id:`letter_thief_${t}`,name:"Letter Thief",description:"Steal random letters from unused words",effect:{type:"letterTheft",chance:.3},cost:22,rarity:"uncommon",emoji:"..",synergy:["manipulation"]}],rare:[{id:`word_forge_${t}`,name:"Word Forge",description:"Combine 2 short words → 1 super word",effect:{type:"wordForge",enabled:!0},cost:35,rarity:"rare",emoji:"[]",synergy:["combo","word_length"]},{id:`golden_letters_${t}`,name:"Golden Letters",description:"Random letters become golden (3x points)",effect:{type:"goldenLetters",count:3},cost:40,rarity:"rare",emoji:"**",synergy:["letter_type","multiplier"]},{id:`word_echo_${t}`,name:"Word Echo",description:'Finding a word grants a "ghost" copy',effect:{type:"wordEcho",chance:.5},cost:45,rarity:"rare",emoji:"~~",synergy:["combo"]},{id:`score_vampire_${t}`,name:"Score Vampire",description:"Gain health equal to 10% of score",effect:{type:"scoreToHealth",ratio:.1},cost:38,rarity:"rare",emoji:"@@",synergy:["survival"]}],legendary:[{id:`letter_god_${t}`,name:"Letter God",description:"All letters become any letter you need",effect:{type:"letterGod",enabled:!0},cost:80,rarity:"legendary",emoji:"##",synergy:["manipulation","godlike"]},{id:`word_singularity_${t}`,name:"Word Singularity",description:"Each word multiplies ALL future words by 1.1x",effect:{type:"exponentialGrowth",multiplier:1.1},cost:100,rarity:"legendary",emoji:"88",synergy:["combo","multiplier"]},{id:`reality_hack_${t}`,name:"Reality Hack",description:"Break one game rule permanently",effect:{type:"ruleBreaker",enabled:!0},cost:120,rarity:"legendary",emoji:"!!",synergy:["godlike"]}]}[e];return o[Math.floor(Math.random()*o.length)]}return g.jsxs("div",{style:{width:"100vw",height:"calc(var(--vh, 1vh) * 100)",display:"flex",flexDirection:"column",background:"var(--color-bg)",overflow:"hidden",position:"fixed",top:0,left:0},children:[g.jsxs("div",{style:{width:"100%",height:"80px",background:"var(--color-bg)",border:"3px solid var(--color-text)",borderBottom:"3px solid var(--color-text)",display:"flex",alignItems:"center",justifyContent:"center",paddingTop:"calc(env(safe-area-inset-top, 0px) + 12px)",paddingLeft:"16px",paddingRight:"16px",position:"relative"},children:[g.jsx("h1",{style:{fontSize:"24px",fontWeight:"bold",textAlign:"center",margin:0,color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",textTransform:"uppercase"},children:"[S] POWER-UP SHOP [S]"}),g.jsx("div",{style:{position:"absolute",top:"16px",right:"16px",width:"8px",height:"8px",background:"var(--color-text)"}})]}),g.jsx("div",{style:{width:"100%",height:"60px",background:"var(--color-accent)",border:"3px solid var(--color-text)",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 20px"},children:g.jsxs("div",{style:{fontSize:"22px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px",color:"var(--color-bg)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",textTransform:"uppercase"},children:[g.jsx("span",{style:{fontSize:"24px"},children:"[C]"}),g.jsx("span",{children:t.coins}),g.jsx("span",{style:{fontSize:"18px"},children:"COINS"})]})}),g.jsx("div",{style:{flex:1,padding:"16px",overflowY:"auto",background:"var(--color-bg)",border:"3px solid var(--color-text)"},children:g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px",maxWidth:"800px",margin:"0 auto"},children:i.map((e,r)=>g.jsxs("div",{className:"gb-button",style:{cursor:t.coins>=e.cost?"pointer":"not-allowed",opacity:t.coins>=e.cost?1:.5,minHeight:"200px",display:"flex",flexDirection:"column",background:t.coins>=e.cost?"var(--color-bg)":"var(--color-accent)",color:"var(--color-text)",border:"legendary"===e.rarity?"4px solid var(--color-text)":"rare"===e.rarity?"3px solid var(--color-text)":"2px solid var(--color-text)",padding:"16px",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",textAlign:"center"},onClick:()=>t.coins>=e.cost&&(e=>{t.coins>=e.cost&&(o({type:"PURCHASE_POWERUP",payload:e}),a(t=>t.filter(t=>t.id!==e.id)))})(e),children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[g.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",color:"var(--color-text)"},children:e.rarity}),g.jsxs("div",{style:{fontSize:"16px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"4px",color:"var(--color-text)"},children:[g.jsx("span",{children:"[C]"}),g.jsx("span",{children:e.cost})]})]}),g.jsx("div",{style:{fontSize:"36px",textAlign:"center",marginBottom:"12px",fontWeight:"bold",color:"var(--color-text)"},children:e.emoji}),g.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",textAlign:"center",marginBottom:"12px",textTransform:"uppercase",color:"var(--color-text)"},children:e.name}),g.jsx("div",{style:{fontSize:"14px",textAlign:"center",flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"0 8px",lineHeight:"1.4",color:"var(--color-text)"},children:e.description}),e.synergies&&e.synergies.length>0&&g.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px",marginTop:"12px",justifyContent:"center"},children:e.synergies.map((e,t)=>g.jsx("span",{style:{fontSize:"12px",background:"var(--color-accent)",color:"var(--color-bg)",padding:"4px 8px",border:"1px solid var(--color-text)",textTransform:"uppercase",fontWeight:"bold",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace"},children:e},t))})]},r))})}),g.jsxs("div",{style:{width:"100%",height:"80px",background:"var(--color-bg)",border:"3px solid var(--color-text)",borderTop:"3px solid var(--color-text)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 20px",paddingBottom:"calc(env(safe-area-inset-bottom, 0px) + 12px)"},children:[g.jsxs("button",{className:"gb-button",onClick:()=>{t.coins>=r&&(o({type:"SPEND_COINS",payload:r}),a(l()),n(e=>Math.min(10,e+1)))},disabled:t.coins<r,style:{fontSize:"16px",padding:"12px 20px",background:t.coins>=r?"var(--color-bg)":"var(--color-accent)",color:"var(--color-text)",border:"3px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",cursor:t.coins>=r?"pointer":"not-allowed",opacity:t.coins>=r?1:.5},children:["[R] REROLL (",r,"[C])"]}),g.jsx("button",{className:"gb-button",onClick:()=>{o({type:"LEAVE_SHOP"})},style:{fontSize:"16px",padding:"12px 24px",background:"var(--color-text)",color:"var(--color-bg)",border:"3px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer"},children:"CONTINUE [>]"})]})]})}function P(e){return`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`}function G(){const{gameState:t}=v();return e.useEffect(()=>{A().then(e=>{}),document.documentElement.setAttribute("data-theme","retro");const e=()=>{const e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`),getComputedStyle(document.documentElement).getPropertyValue("--safe-area-inset-top"),getComputedStyle(document.documentElement).getPropertyValue("--safe-area-inset-bottom")};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),t.gameStarted&&"menu"!==t.gamePhase?g.jsx("div",{className:"game-screen crt-effect",children:g.jsx("div",{className:"pixel-container",children:g.jsx(I,{})})}):g.jsx("div",{className:"game-screen crt-effect",children:g.jsx("div",{className:"pixel-container",children:g.jsx(b,{})})})}function B(){return g.jsx("div",{className:"crt-screen",children:g.jsx(y,{children:g.jsx(G,{})})})}u.createRoot(document.getElementById("root")).render(g.jsx(o.StrictMode,{children:g.jsx(B,{})}));
