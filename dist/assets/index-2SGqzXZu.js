import{r as e,a as t,R as o}from"./vendor-DtX1tuCI.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var r={exports:{}},n={},i=e,a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function p(e,t,o){var r,n={},i=null,s=null;for(r in void 0!==o&&(i=""+o),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(s=t.ref),t)l.call(t,r)&&!d.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===n[r]&&(n[r]=t[r]);return{$$typeof:a,type:e,key:i,ref:s,props:n,_owner:c.current}}n.Fragment=s,n.jsx=p,n.jsxs=p,r.exports=n;var u=r.exports,m={},g=t;function x(e,t){var o,r;switch(t.type){case"START_GAME":const n={...e,gamePhase:"selectingChallenge",currentRound:1,currentLevel:1,totalScore:0,coins:15,powerUps:[],currentChallenge:null,isGameActive:!0,gameStarted:!0,difficulty:(null==(o=t.payload)?void 0:o.stake)||"apprentice",difficultyStake:(null==(r=t.payload)?void 0:r.stake)||"apprentice"};return localStorage.setItem("wordScrambleGameState",JSON.stringify(n)),n;case"START_NEW_RUN":const i=t.payload.stake,a={...e,currentRun:e.currentRun+1,currentLevel:1,totalScore:0,coins:15,runStartTime:Date.now(),gamePhase:"selectingChallenge",currentChallenge:null,isGameActive:!0,gameStarted:!0,difficulty:i,difficultyStake:i,powerUps:e.inventory.map(e=>({...e,cost:e.sellValue}))};return localStorage.setItem("wordScrambleGameState",JSON.stringify(a)),a;case"LOAD_GAME":return{...t.payload,gameStarted:!0,isGameActive:!0};case"SELECT_CHALLENGE":const s={...e,currentChallenge:t.payload.challenge||t.payload,gamePhase:"playingChallenge"};return localStorage.setItem("wordScrambleGameState",JSON.stringify(s)),s;case"COMPLETE_CHALLENGE":const{score:l,coins:c}=t.payload,d={...e,totalScore:e.totalScore+l,coins:e.coins+c,lifetimeCoins:e.lifetimeCoins+c,gamePhase:"shopping"};return localStorage.setItem("wordScrambleGameState",JSON.stringify(d)),d;case"COMPLETE_LEVEL":const p=t.payload,u=e.currentLevel+1;if(u>e.maxLevel){const t={...e,totalScore:e.totalScore+p.score,coins:e.coins+p.coins,lifetimeCoins:e.lifetimeCoins+p.coins,gamePhase:"runComplete"};return localStorage.setItem("wordScrambleGameState",JSON.stringify(t)),t}{const t={...e,currentLevel:u,totalScore:e.totalScore+p.score,coins:e.coins+p.coins,lifetimeCoins:e.lifetimeCoins+p.coins,gamePhase:"shopping"};return localStorage.setItem("wordScrambleGameState",JSON.stringify(t)),t}case"NEXT_LEVEL":const m={...e,gamePhase:"selectingChallenge"};return localStorage.setItem("wordScrambleGameState",JSON.stringify(m)),m;case"COMPLETE_RUN":t.payload;const g={...e,gamePhase:"runSelection",isGameActive:!1};return localStorage.setItem("wordScrambleGameState",JSON.stringify(g)),g;case"PURCHASE_INVENTORY_ITEM":const x=t.payload.item;if(e.coins<x.cost)return e;const h=e.inventory.findIndex(e=>e.id===x.id);let f;h>=0?(f=[...e.inventory],f[h]={...f[h],stackCount:f[h].stackCount+1}):f=[...e.inventory,{...x,purchaseLevel:e.currentLevel,timesUsed:0,stackCount:1}];const v={...e,coins:e.coins-x.cost,inventory:f,powerUps:f.map(e=>({...e,cost:e.sellValue}))};return localStorage.setItem("wordScrambleGameState",JSON.stringify(v)),v;case"SELL_INVENTORY_ITEM":const y=t.payload.itemId,b=e.inventory.find(e=>e.id===y);if(!b)return e;let w;w=b.stackCount>1?e.inventory.map(e=>e.id===y?{...e,stackCount:e.stackCount-1}:e):e.inventory.filter(e=>e.id!==y);const S={...e,coins:e.coins+b.sellValue,inventory:w,powerUps:w.map(e=>({...e,cost:e.sellValue}))};return localStorage.setItem("wordScrambleGameState",JSON.stringify(S)),S;case"PURCHASE_POWERUP":const k=t.payload;if(e.coins<k.cost)return e;const C={...e,coins:e.coins-k.cost,powerUps:[...e.powerUps,k]};return localStorage.setItem("wordScrambleGameState",JSON.stringify(C)),C;case"SPEND_COINS":const j=t.payload;if(e.coins<j)return e;const M={...e,coins:e.coins-j};return localStorage.setItem("wordScrambleGameState",JSON.stringify(M)),M;case"NEXT_ROUND":const E=e.currentRound+1;let T;return T=E>e.totalRounds?{...e,gamePhase:"victory"}:{...e,currentRound:E,gamePhase:"selectingChallenge"},localStorage.setItem("wordScrambleGameState",JSON.stringify(T)),T;case"GAME_OVER":const L={...e,gamePhase:"gameOver",isGameActive:!1};return localStorage.removeItem("wordScrambleGameState"),L;case"RESET_GAME":const A={currentRun:1,currentLevel:1,maxLevel:15,runStartTime:Date.now(),inventory:[],coins:15,totalScore:0,lifetimeCoins:0,currentChallenge:null,challengeProgress:{currentScore:0,wordsFound:[],timeRemaining:0,wordsRemaining:0,isCompleted:!1,bonusMultiplier:1,streakCount:0},gamePhase:"menu",isGameWon:!1,isGameLost:!1,difficultyStake:"apprentice",gameStarted:!1,isGameActive:!1,currentRound:1,letterEnhancers:[],wordMultipliers:[],consumableBoosts:[],totalRounds:15,powerUps:[],difficulty:"apprentice"};return localStorage.removeItem("wordScrambleGameState"),A;case"SET_DIFFICULTY":return{...e,difficulty:t.payload};case"SUBMIT_WORD":case"USE_CONSUMABLE":default:return e;case"SKIP_CHALLENGE":const N={...e,gamePhase:"shopping"};return localStorage.setItem("wordScrambleGameState",JSON.stringify(N)),N;case"PURCHASE_ITEM":const P=t.payload.item;if(e.coins<P.cost)return e;const I={...e,coins:e.coins-P.cost};return localStorage.setItem("wordScrambleGameState",JSON.stringify(I)),I;case"LEAVE_SHOP":const R={...e,gamePhase:"selectingChallenge"};return localStorage.setItem("wordScrambleGameState",JSON.stringify(R)),R;case"SKIP_LEVEL":const{level:W,perk:B}=t.payload,z=W+1;if(z>e.maxLevel){const t={...e,gamePhase:"runComplete"};return localStorage.setItem("wordScrambleGameState",JSON.stringify(t)),t}{const t={...e,currentLevel:z,activePerks:[...e.activePerks||[],B],gamePhase:"shopping"};return localStorage.setItem("wordScrambleGameState",JSON.stringify(t)),t}}}m.createRoot=g.createRoot,m.hydrateRoot=g.hydrateRoot;const h={currentRun:1,currentLevel:1,maxLevel:15,runStartTime:Date.now(),inventory:[],activePerks:[],coins:15,totalScore:0,lifetimeCoins:0,currentChallenge:null,challengeProgress:{currentScore:0,wordsFound:[],timeRemaining:0,wordsRemaining:0,isCompleted:!1,bonusMultiplier:1,streakCount:0},gamePhase:"menu",isGameWon:!1,isGameLost:!1,difficultyStake:"apprentice",gameStarted:!1,isGameActive:!1,currentRound:1,letterEnhancers:[],wordMultipliers:[],consumableBoosts:[],totalRounds:15,powerUps:[],difficulty:"apprentice"},f=e.createContext(void 0);function v({children:t}){const[o,r]=e.useReducer(x,h),n={gameState:o,dispatch:r,startGame:e=>{r({type:"START_GAME",payload:{stake:e}})},startNewRun:e=>{r({type:"START_NEW_RUN",payload:{stake:e}})},selectChallenge:e=>{r({type:"SELECT_CHALLENGE",payload:{challenge:e}})},submitWord:(e,t,o)=>{r({type:"SUBMIT_WORD",payload:{word:e,positions:t,timeTaken:o}})},skipChallenge:e=>{r({type:"SKIP_CHALLENGE",payload:{challenge:e}})},purchaseItem:e=>o.coins>=e.cost&&(r({type:"PURCHASE_ITEM",payload:{item:e}}),!0),purchaseInventoryItem:e=>o.coins>=e.cost&&(r({type:"PURCHASE_INVENTORY_ITEM",payload:{item:e}}),!0),sellInventoryItem:e=>!!o.inventory.find(t=>t.id===e)&&(r({type:"SELL_INVENTORY_ITEM",payload:{itemId:e}}),!0),leaveShop:()=>{r({type:"LEAVE_SHOP"})},useConsumable:e=>{r({type:"USE_CONSUMABLE",payload:{boost:e}})},resetGame:()=>{r({type:"RESET_GAME"})}};return u.jsx(f.Provider,{value:n,children:t})}const y={crtEffect:!0,animations:!0,colorScheme:"gameboy",difficulty:"apprentice",soundEnabled:!0,musicEnabled:!0,pixelPerfect:!0,scanlines:!0,flicker:!1,glitchEffect:!1,retroMode:!1,highContrast:!1,largeText:!1,reducedMotion:!1},b=e.createContext(void 0),w=()=>{const t=e.useContext(b);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},S=({children:t})=>{const[o,r]=e.useState(()=>{const e=localStorage.getItem("gameSettings");if(e)try{const t=JSON.parse(e);return{...y,...t}}catch(t){}return y});e.useEffect(()=>{localStorage.setItem("gameSettings",JSON.stringify(o)),n(o)},[o]);const n=e=>{const t=document.documentElement;"monochrome"===e.colorScheme?(t.style.setProperty("--color-bg","#000000"),t.style.setProperty("--color-text","#ffffff"),t.style.setProperty("--color-accent","#888888"),t.setAttribute("data-color-scheme","monochrome")):(t.style.setProperty("--color-bg","#0f380f"),t.style.setProperty("--color-text","#9bbc0f"),t.style.setProperty("--color-accent","#306230"),t.removeAttribute("data-color-scheme")),e.crtEffect?t.style.setProperty("--crt-effect","block"):t.style.setProperty("--crt-effect","none"),e.animations?(t.style.setProperty("--animations-enabled","1"),t.setAttribute("data-animations","1")):(t.style.setProperty("--animations-enabled","0"),t.setAttribute("data-animations","0")),e.scanlines?t.style.setProperty("--scanlines-enabled","block"):t.style.setProperty("--scanlines-enabled","none"),e.flicker?(t.style.setProperty("--flicker-enabled","1"),t.setAttribute("data-flicker","1")):(t.style.setProperty("--flicker-enabled","0"),t.removeAttribute("data-flicker")),e.glitchEffect?(t.style.setProperty("--glitch-enabled","1"),t.setAttribute("data-glitch","1")):(t.style.setProperty("--glitch-enabled","0"),t.removeAttribute("data-glitch")),e.pixelPerfect?t.style.setProperty("--pixel-perfect","pixelated"):t.style.setProperty("--pixel-perfect","auto"),e.highContrast?(t.style.setProperty("--high-contrast","1"),t.setAttribute("data-high-contrast","1")):(t.style.setProperty("--high-contrast","0"),t.removeAttribute("data-high-contrast")),e.largeText?(t.style.setProperty("--text-scale","1.2"),t.setAttribute("data-large-text","1")):(t.style.setProperty("--text-scale","1"),t.removeAttribute("data-large-text")),e.reducedMotion?(t.style.setProperty("--reduced-motion","1"),t.setAttribute("data-reduced-motion","1")):(t.style.setProperty("--reduced-motion","0"),t.removeAttribute("data-reduced-motion")),e.retroMode?t.setAttribute("data-retro","1"):t.removeAttribute("data-retro")};return u.jsx(b.Provider,{value:{settings:o,updateSetting:(e,t)=>{r(o=>({...o,[e]:t}))},resetSettings:()=>{r(y)}},children:t})};function k(){const t=e.useContext(f);if(void 0===t)throw new Error("useGame must be used within a GameProvider");return t}const C=({onClose:e})=>{const{settings:t,updateSetting:o,resetSettings:r}=w(),n=({label:e,value:t,onChange:o,description:r})=>u.jsxs("div",{style:{marginBottom:"16px"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[u.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace"},children:e}),u.jsx("button",{onClick:()=>o(!t),style:{width:"40px",height:"20px",background:t?"var(--color-accent)":"var(--color-bg)",border:"2px solid var(--color-text)",cursor:"pointer",position:"relative"},children:u.jsx("div",{style:{width:"16px",height:"16px",background:"var(--color-text)",position:"absolute",top:"0px",left:t?"20px":"0px",transition:"left 0.2s ease"}})})]}),r&&u.jsx("div",{style:{fontSize:"11px",color:"var(--color-accent)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace"},children:r})]}),i=({label:e,value:t,options:o,onChange:r})=>u.jsxs("div",{style:{marginBottom:"16px"},children:[u.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",color:"var(--color-text)",marginBottom:"8px",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace"},children:e}),u.jsx("select",{value:t,onChange:e=>r(e.target.value),style:{width:"100%",padding:"8px",background:"var(--color-bg)",color:"var(--color-text)",border:"2px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontSize:"12px"},children:o.map(e=>u.jsx("option",{value:e.value,children:e.label},e.value))})]});return u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:u.jsxs("div",{style:{maxWidth:"500px",maxHeight:"90vh",overflow:"auto",background:"var(--color-bg)",border:"3px solid var(--color-text)",padding:"20px",width:"100%"},children:[u.jsx("h2",{style:{fontSize:"18px",marginBottom:"20px",textAlign:"center",color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase"},children:"[*] SETTINGS MENU"}),u.jsxs("div",{style:{marginBottom:"24px"},children:[u.jsx("h3",{style:{fontSize:"16px",marginBottom:"12px",color:"var(--color-accent)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",borderBottom:"2px solid var(--color-text)",paddingBottom:"4px"},children:"VISUAL SETTINGS"}),u.jsx(n,{label:"CRT Effect",value:t.crtEffect,onChange:e=>o("crtEffect",e),description:"Enable authentic CRT screen effect"}),u.jsx(n,{label:"Animations",value:t.animations,onChange:e=>o("animations",e),description:"Enable smooth animations and transitions"}),u.jsx(n,{label:"Scanlines",value:t.scanlines,onChange:e=>o("scanlines",e),description:"Add retro scanline effect"}),u.jsx(n,{label:"Pixel Perfect",value:t.pixelPerfect,onChange:e=>o("pixelPerfect",e),description:"Enable pixel-perfect rendering"}),u.jsx(i,{label:"Color Scheme",value:t.colorScheme,options:[{value:"gameboy",label:"Game Boy Green",description:"Classic green palette"},{value:"monochrome",label:"Black & White",description:"Clean monochrome theme"}],onChange:e=>o("colorScheme",e)})]}),u.jsxs("div",{style:{marginBottom:"24px"},children:[u.jsx("h3",{style:{fontSize:"16px",marginBottom:"12px",color:"var(--color-accent)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",borderBottom:"2px solid var(--color-text)",paddingBottom:"4px"},children:"FUN TWEAKS"}),u.jsx(n,{label:"Flicker Effect",value:t.flicker,onChange:e=>o("flicker",e),description:"Add subtle screen flicker"}),u.jsx(n,{label:"Glitch Effect",value:t.glitchEffect,onChange:e=>o("glitchEffect",e),description:"Random glitch effects"}),u.jsx(n,{label:"Retro Mode",value:t.retroMode,onChange:e=>o("retroMode",e),description:"Ultra-authentic retro experience"})]}),u.jsxs("div",{style:{marginBottom:"24px"},children:[u.jsx("h3",{style:{fontSize:"16px",marginBottom:"12px",color:"var(--color-accent)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",borderBottom:"2px solid var(--color-text)",paddingBottom:"4px"},children:"GAMEPLAY SETTINGS"}),u.jsx(i,{label:"Default Difficulty",value:t.difficulty,options:[{value:"apprentice",label:"Apprentice (1x multiplier)"},{value:"scholar",label:"Scholar (1.3x multiplier)"},{value:"expert",label:"Expert (1.6x multiplier)"},{value:"master",label:"Master (2.0x multiplier)"},{value:"grandmaster",label:"Grandmaster (2.5x multiplier)"}],onChange:e=>o("difficulty",e)})]}),u.jsxs("div",{style:{marginBottom:"24px"},children:[u.jsx("h3",{style:{fontSize:"16px",marginBottom:"12px",color:"var(--color-accent)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",borderBottom:"2px solid var(--color-text)",paddingBottom:"4px"},children:"AUDIO SETTINGS"}),u.jsx(n,{label:"Sound Effects",value:t.soundEnabled,onChange:e=>o("soundEnabled",e),description:"Enable game sound effects"}),u.jsx(n,{label:"Background Music",value:t.musicEnabled,onChange:e=>o("musicEnabled",e),description:"Enable background music"})]}),u.jsxs("div",{style:{marginBottom:"24px"},children:[u.jsx("h3",{style:{fontSize:"16px",marginBottom:"12px",color:"var(--color-accent)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",borderBottom:"2px solid var(--color-text)",paddingBottom:"4px"},children:"ACCESSIBILITY"}),u.jsx(n,{label:"High Contrast",value:t.highContrast,onChange:e=>o("highContrast",e),description:"Enhanced contrast for better visibility"}),u.jsx(n,{label:"Large Text",value:t.largeText,onChange:e=>o("largeText",e),description:"Increase text size by 20%"}),u.jsx(n,{label:"Reduced Motion",value:t.reducedMotion,onChange:e=>o("reducedMotion",e),description:"Disable animations for motion sensitivity"})]}),u.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[u.jsx("button",{onClick:r,className:"gb-button",style:{flex:1,padding:"12px",fontSize:"14px",background:"var(--color-accent)",color:"var(--color-bg)",border:"3px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer"},children:"[R] RESET"}),u.jsx("button",{onClick:e,className:"gb-button",style:{flex:1,padding:"12px",fontSize:"14px",background:"var(--color-accent)",color:"var(--color-bg)",border:"3px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer"},children:"[B] BACK"})]})]})})},j=()=>{const{dispatch:t}=k();w();const[o,r]=e.useState(!1),[n,i]=e.useState(!1);localStorage.getItem("wordScrambleGameState");const a=e=>{t({type:"START_NEW_RUN",payload:{stake:e}})};return u.jsxs("div",{className:"crt-screen",style:{width:"100vw",height:"calc(var(--vh, 1vh) * 100)",background:"var(--color-bg)",position:"fixed",top:0,left:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",color:"var(--color-text)",padding:"20px",boxSizing:"border-box",overflow:"hidden"},children:[u.jsx("div",{className:"power-led",style:{position:"absolute",top:"20px",right:"20px",width:"12px",height:"12px",background:"var(--color-text)"}}),u.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[u.jsx("h1",{style:{fontSize:"48px",fontWeight:"bold",color:"var(--color-text)",margin:"0 0 16px 0",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",letterSpacing:"4px",textTransform:"uppercase",lineHeight:"1"},children:"LETTRO"}),u.jsx("div",{style:{fontSize:"20px",fontWeight:"bold",background:"var(--color-accent)",color:"var(--color-bg)",padding:"8px 16px",border:"2px solid var(--color-text)",display:"inline-block",textTransform:"uppercase",letterSpacing:"2px"},children:"WORD SCRAMBLE MASTER"})]}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px",width:"100%",maxWidth:"400px",alignItems:"center"},children:[u.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"var(--color-text)",margin:"0 0 20px 0",textAlign:"center",textTransform:"uppercase",letterSpacing:"2px"},children:"SELECT CHALLENGE"}),u.jsx("button",{className:"gb-button",onClick:()=>a("apprentice"),style:{width:"100%",fontSize:"20px",padding:"16px 24px",background:"var(--color-bg)",border:"3px solid var(--color-text)",color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer"},children:">> APPRENTICE - BEGINNER"}),u.jsx("button",{className:"gb-button",onClick:()=>a("scholar"),style:{width:"100%",fontSize:"20px",padding:"16px 24px",background:"var(--color-bg)",border:"3px solid var(--color-text)",color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer"},children:"** SCHOLAR - INTERMEDIATE"}),u.jsx("button",{className:"gb-button",onClick:()=>a("expert"),style:{width:"100%",fontSize:"20px",padding:"16px 24px",background:"var(--color-bg)",border:"3px solid var(--color-text)",color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer"},children:"## EXPERT - ADVANCED"})]}),u.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"20px",right:"20px",textAlign:"center"},children:[u.jsx("div",{style:{fontSize:"16px",color:"var(--color-text)",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px"},children:"FIND WORDS IN THE GRID"}),u.jsx("div",{style:{fontSize:"14px",color:"var(--color-accent)",fontWeight:"bold",marginTop:"8px",textTransform:"uppercase"},children:"CONNECT ADJACENT LETTERS"})]}),u.jsxs("div",{style:{position:"absolute",bottom:"80px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",zIndex:5,paddingBottom:"calc(env(safe-area-inset-bottom, 0px) + 20px)"},children:[u.jsx("button",{onClick:()=>i(!0),className:"gb-button",style:{padding:"12px 20px",fontSize:"16px",background:"var(--color-bg)",color:"var(--color-text)",border:"3px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer",minWidth:"140px"},children:"[*] SETTINGS"}),u.jsx("button",{onClick:()=>r(!0),style:{background:"none",border:"none",color:"var(--color-accent)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer",textDecoration:"underline",padding:"4px 8px"},children:"[?] HOW TO PLAY"})]}),o&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:u.jsxs("div",{style:{maxWidth:"400px",maxHeight:"80vh",overflow:"auto",background:"var(--color-bg)",border:"3px solid var(--color-text)",padding:"20px"},children:[u.jsx("h2",{style:{fontSize:"18px",marginBottom:"16px",textAlign:"center",color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase"},children:"[?] HOW TO PLAY"}),u.jsxs("div",{style:{fontSize:"14px",lineHeight:"1.4",marginBottom:"16px",color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace"},children:[u.jsxs("div",{style:{marginBottom:"12px"},children:[u.jsx("strong",{children:"OBJECTIVE:"}),u.jsx("br",{}),"Find words by connecting adjacent letters on the grid."]}),u.jsxs("div",{style:{marginBottom:"12px"},children:[u.jsx("strong",{children:"CONTROLS:"}),u.jsx("br",{}),"• Tap letters to select them",u.jsx("br",{}),"• Connect adjacent letters (including diagonals)",u.jsx("br",{}),"• Tap the last letter again to submit word"]}),u.jsxs("div",{style:{marginBottom:"12px"},children:[u.jsx("strong",{children:"SCORING:"}),u.jsx("br",{}),"• 2-letter words: 3 points",u.jsx("br",{}),"• 3-4 letter words: 5 points",u.jsx("br",{}),"• 5+ letter words: 8-25 points"]}),u.jsxs("div",{children:[u.jsx("strong",{children:"TIPS:"}),u.jsx("br",{}),"• Longer words score more points",u.jsx("br",{}),"• Look for common word patterns",u.jsx("br",{}),"• Use all available time wisely"]})]}),u.jsx("button",{onClick:()=>r(!1),className:"gb-button",style:{width:"100%",padding:"12px",fontSize:"16px",background:"var(--color-accent)",color:"var(--color-bg)",border:"3px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer"},children:"[B] BACK"})]})}),n&&u.jsx(C,{onClose:()=>i(!1)})]})};if("undefined"!=typeof document){const e=document.createElement("style");e.textContent="\n@keyframes gb-symbol-pulse {\n  0%, 100% { \n    transform: scale(1);\n    opacity: 1;\n  }\n  50% { \n    transform: scale(1.1);\n    opacity: 0.8;\n  }\n}\n",document.head.appendChild(e)}const M=new Set(["aa","ab","ad","ae","ag","ah","ai","al","am","an","ar","as","at","aw","ax","ay","ba","be","bi","bo","by","da","de","do","ed","ef","eh","el","em","en","er","es","et","ex","fa","fe","go","ha","he","hi","hm","ho","id","if","in","is","it","jo","ka","ki","la","li","lo","ma","me","mi","mm","mo","mu","my","na","ne","no","nu","od","oe","of","oh","oi","ok","om","on","op","or","os","ow","ox","oy","pa","pe","pi","qi","re","sh","si","so","ta","ti","to","uh","um","un","up","us","ut","we","wo","xi","xu","ya","ye","yo","za","the","and","for","are","but","not","you","all","can","had","her","was","one","our","out","day","get","has","him","his","how","man","new","now","old","see","two","way","who","boy","did","its","let","put","say","she","too","use","cat","dog","run","big","red","top","hot","cut","yes","try","ask","own","sit","eat","far","sea","eye","car","got","lot","yet","arm","off","bad","bag","bed","box","buy","cup","end","few","fun","gun","job","key","kid","law","leg","lie","map","pay","pop","sun","tax","war","win","bit","die","due","ear","egg","fly","gas","hit","ice","joy","log","mix","oil","pan","pie","row","sad","sky","tip","toy","web","zoo","age","air","art","bee","bet","bus","cry","dry","fat","fix","god","hug","ink","jam","lap","mad","net","oak","pet","rat","set","tap","van","wet","zip","eel","peel","feel","reel","heel","keel","teel","bell","cell","dell","fell","hell","jell","sell","tell","well","yell","ball","call","fall","gall","hall","mall","pall","tall","wall","bill","dill","fill","gill","hill","kill","mill","pill","sill","till","will","bull","cull","dull","full","gull","hull","lull","mull","null","pull","that","with","have","this","will","your","from","they","know","want","been","good","much","some","time","very","when","come","here","just","like","long","make","many","over","such","take","than","them","well","were","what","year","work","back","call","came","each","even","find","give","hand","high","keep","kind","last","left","life","live","look","made","most","move","must","name","need","next","open","part","play","said","same","seem","show","side","tell","turn","used","ways","week","went","word","book","case","door","face","fact","game","girl","help","home","hope","hour","idea","line","list","love","mind","news","only","page","plan","read","real","room","seen","sort","talk","team","test","then","tree","true","walk","wall","wife","yard","able","area","army","away","baby","ball","band","bank","base","beat","best","bill","bird","blue","boat","body","born","both","boys","busy","care","cars","city","club","cold","cool","cost","dark","data","days","dead","deal","dear","does","done","down","drop","drug","easy","else","eyes","fall","fast","feel","feet","fell","felt","file","fill","film","fire","fish","five","food","foot","form","four","free","full","gave","gets","goes","gold","gone","grew","grow","guys","half","hall","hard","head","hear","held","hell","hide","hold","hole","holy","huge","hurt","jobs","join","jump","june","kept","kids","kill","knew","land","late","lead","less","lies","live","load","loan","lock","lose","loss","lost","lots","luck","mail","main","male","mark","mass","mean","meet","miss","mode","moon","near","neck","nice","nine","none","nose","note","okay","once","park","pass","past","path","pick","pink","plus","poll","pool","poor","push","race","rain","rate","rich","ride","ring","rise","risk","rock","role","roll","rule","runs","safe","sale","save","seat","sell","send","sent","ship","shop","shot","sick","sign","size","skin","slip","slow","snow","soft","soil","sold","song","soon","soul","spot","star","stay","step","stop","sure","task","tend","term","text","thin","tied","ties","till","tiny","told","tone","took","tool","tops","town","trip","unit","upon","user","vary","vast","vote","wage","wait","wake","warm","wash","wave","ways","weak","wear","west","wide","wild","wind","wine","wins","wire","wise","wish","wood","wore","worn","yeah","zone","about","after","again","alone","along","among","being","below","could","doing","every","first","found","great","group","house","large","might","never","other","place","right","small","sound","still","these","think","three","under","water","where","which","while","world","would","write","young","above","admit","agree","ahead","alive","allow","anger","angry","apart","apple","apply","arena","argue","arise","armed","array","aside","asset","avoid","awake","award","aware","badly","basic","beach","began","begin","belly","bench","birth","black","blame","blank","blind","block","blood","board","boost","booth","bound","brain","brand","brave","bread","break","breed","brief","bring","broad","broke","brown","build","built","buyer","cable","catch","cause","chain","chair","chaos","charm","chart","chase","cheap","check","chest","child","china","chose","civil","claim","class","clean","clear","click","climb","clock","close","cloud","coach","coast","count","court","cover","craft","crash","crazy","cream","crime","cross","crowd","crown","crude","curve","cycle","daily","dance","dated","dealt","death","debut","delay","depth","doubt","dozen","draft","drama","drank","dream","dress","drill","drink","drive","drove","dying","eager","early","earth","eight","elite","empty","enemy","enjoy","enter","entry","equal","error","event","exact","exist","extra","faith","false","fault","fiber","field","fifth","fifty","fight","final","fixed","flash","fleet","floor","fluid","focus","force","forth","forty","forum","frame","frank","fraud","fresh","front","fruit","fully","funny","giant","given","glass","globe","going","grace","grade","grand","grant","grass","grave","green","gross","grown","guard","guess","guest","guide","happy","heart","heavy","hence","horse","hotel","human","hurry","image","index","inner","input","issue","japan","joint","judge","known","label","laser","later","laugh","layer","learn","lease","least","leave","legal","level","light","limit","links","lives","local","loose","lower","lucky","lunch","lying","magic","major","maker","march","match","maybe","mayor","meant","media","metal","minor","minus","mixed","model","money","month","moral","motor","mount","mouse","mouth","moved","movie","music","needs","newly","night","noise","north","noted","novel","nurse","occur","ocean","offer","often","order","ought","paint","panel","paper","party","peace","phase","phone","photo","piano","piece","pilot","pitch","plain","plane","plant","plate","point","pound","power","press","price","pride","prime","print","prior","prize","proof","proud","prove","queen","quick","quiet","quite","radio","raise","range","rapid","ratio","reach","ready","realm","rebel","refer","relax","repay","reply","rigid","rival","river","robin","roger","roman","rough","round","route","royal","rural","scale","scene","scope","score","sense","serve","seven","shall","shape","share","sharp","sheet","shelf","shell","shift","shine","shirt","shock","shoot","short","shown","sides","sight","silly","since","sixth","sixty","sized","skill","sleep","slide","smart","smile","smith","smoke","snake","solid","solve","sorry","south","space","spare","speak","speed","spend","spent","split","spoke","sport","staff","stage","stake","stand","start","state","steam","steel","steep","steer","stick","stock","stone","stood","store","storm","story","strip","stuck","study","stuff","style","sugar","suite","super","sweet","swift","swing","swiss","table","taken","taste","taxes","teach","tends","terry","texas","thank","theft","their","theme","there","thick","thing","third","those","threw","throw","thumb","tight","tired","title","today","topic","total","touch","tough","tower","track","trade","train","treat","trend","trial","tribe","trick","tried","tries","truly","trunk","trust","truth","twice","twist","tyler","ultra","uncle","undue","union","unity","until","upper","upset","urban","usage","usual","valid","value","video","virus","visit","vital","vocal","voice","waste","watch","wheel","white","whole","whose","woman","women","worry","worse","worst","worth","write","wrong","wrote","yield","youth","should","around","through","during","follow","without","another","between","nothing","someone","something","because","before","against","thought","little","number","people","really","school","always","enough","almost","second","family","system","within","rather","across","change","course","action","figure","friend","ground","happen","better","cannot","common","create","degree","detail","either","father","finger","gather","govern","health","height","indeed","inside","itself","letter","listen","living","making","market","matter","member","method","middle","minute","modern","moment","mother","moving","nation","nature","nearly","notice","object","office","opened","option","others","parent","period","person","please","policy","pretty","public","reason","record","remain","remove","report","result","return","season","senior","simple","single","sister","social","source","spirit","spread","spring","square","street","strong","summer","supply","switch","taking","theory","things","though","thrown","toward","travel","trying","turned","unique","unless","unlike","update","useful","valley","volume","weight","winter","wonder","worked","worker","writer"]),E=new Map,T=new Map;let L=0;const A=[["A","A","E","E","G","N"],["E","L","R","T","T","Y"],["A","O","O","T","T","W"],["A","B","B","J","O","O"],["E","H","R","T","V","W"],["C","I","M","O","T","U"],["D","I","S","T","T","Y"],["E","I","O","S","S","T"],["D","E","L","R","V","Y"],["A","C","H","O","P","S"],["H","I","M","N","Q","U"],["E","E","I","N","S","U"],["E","E","G","H","N","W"],["A","F","F","K","P","S"],["H","L","N","N","R","Z"],["D","E","I","L","R","X"]];async function N(e){var t,o,r,n;if(e.length<2)return!1;const i=e.toLowerCase();if(E.has(i))return E.get(i);if(M.has(i))return E.set(i,!0),!0;const a=Date.now();a-L<100&&await new Promise(e=>setTimeout(e,100-(a-L))),L=Date.now();try{const e=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${i}`);if(e.ok){const a=await e.json();if(Array.isArray(a)&&a.length>0)return E.set(i,!0),(null==(n=null==(r=null==(o=null==(t=a[0].meanings)?void 0:t[0])?void 0:o.definitions)?void 0:r[0])?void 0:n.definition)&&T.set(i,a[0].meanings[0].definitions[0].definition),!0}return E.set(i,!1),!1}catch(s){const e=M.has(i);return E.set(i,e),e}}function P(){const e=[],t=[...A].sort(()=>Math.random()-.5);for(let o=0;o<4;o++){e[o]=[];for(let r=0;r<4;r++){const n=t[4*o+r],i=n[Math.floor(Math.random()*n.length)];e[o][r]="Q"===i?"QU":i}}return e}function I(e,t){if(t.length<2)return!1;const o=new Set;for(let r=0;r<t.length;r++){const{row:n,col:i}=t[r];if(n<0||n>=e.length||i<0||i>=e[0].length)return!1;const a=`${n},${i}`;if(o.has(a))return!1;if(o.add(a),r>0){if(!R(t[r-1],{row:n,col:i}))return!1}}return!0}function R(e,t){const o=Math.abs(e.row-t.row),r=Math.abs(e.col-t.col);return o<=1&&r<=1&&!(0===o&&0===r)}async function W(){try{const e="test";if(await N(e)){return{success:!0,message:`API working! "${e}" is valid. Definition: ${await async function(e){var t,o,r,n;const i=e.toLowerCase();if(T.has(i))return T.get(i);try{const e=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${i}`);if(e.ok){const a=await e.json();if(Array.isArray(a)&&a.length>0&&(null==(n=null==(r=null==(o=null==(t=a[0].meanings)?void 0:t[0])?void 0:o.definitions)?void 0:r[0])?void 0:n.definition)){const e=a[0].meanings[0].definitions[0].definition;return T.set(i,e),e}}return null}catch(a){return null}}(e)||"No definition available"}`}}return{success:!1,message:"API responded but word validation failed"}}catch(e){return{success:!1,message:`API test failed: ${e instanceof Error?e.message:"Unknown error"}`}}}function B({onWordFound:t,onScoreUpdate:o,onCurrentWordChange:r,timeRemaining:n,hideWordDisplay:i=!1,foundWords:a=[]}){var s,l;const{gameState:c}=k(),[d,p]=e.useState([]),[m,g]=e.useState([]),[x,h]=e.useState(""),[f,v]=e.useState([]),[y,b]=e.useState(!1),[w,S]=e.useState("unknown"),[C,j]=e.useState([]),[T,L]=e.useState(0),[A,W]=e.useState(new Set),[B,z]=e.useState(0),[O,G]=e.useState(null);e.useState(50);const D=a.length>0?a:f,F=c.powerUps.some(e=>"goldenLetters"===e.effect.type),U=c.powerUps.some(e=>"vowelBonus"===e.effect.type);c.powerUps.some(e=>"letterGod"===e.effect.type);const $=(null==(s=c.powerUps.find(e=>"chainMultiplier"===e.effect.type))?void 0:s.effect.value)||0,H=(null==(l=c.powerUps.find(e=>"letterMultiplier"===e.effect.type))?void 0:l.effect.value)||0,_=c.powerUps.find(e=>"longWordMultiplier"===e.effect.type),V=c.powerUps.find(e=>"exponentialGrowth"===e.effect.type);e.useEffect(()=>{var e;const t=P();if(p(t),F){const o=(null==(e=c.powerUps.find(e=>"goldenLetters"===e.effect.type))?void 0:e.effect.count)||3,r=t.flat(),n=new Set;for(let e=0;e<o&&e<r.length;e++){const e=Math.floor(Math.random()*r.length);n.add(`${Math.floor(e/4)}-${e%4}`)}W(n)}},[F]),e.useEffect(()=>{if(m.length>0){const e=function(e,t){return t.map(({row:t,col:o})=>e[t][o]).join("").toLowerCase()}(d,m);if(h(e),null==r||r(e),!I(d,m))return void S("invalid");if(e.length>=2)if(D.includes(e))S("already-found");else{const t=function(e){if(e.length<2)return!1;const t=e.toLowerCase();return E.has(t)?E.get(t):!!M.has(t)||null}(e);!0===t?S("valid"):!1===t?S("invalid"):(S("checking"),N(e).then(e=>{S(e?"valid":"invalid")}))}else S("unknown")}else h(""),S("unknown"),null==r||r("")},[m,d,r,D]);const Y=e=>{var t;let o=function(e,t=1,o="medium"){const r=e.length;let n=0;if(2===r)n=3;else if(r>=3&&r<=4)n=5;else if(5===r)n=8;else if(6===r)n=12;else if(7===r)n=18;else{if(!(r>=8))return 0;n=25}const i={easy:1.2,medium:1.5,hard:2}[o],a=function(e){const t={A:1,E:1,I:1,O:1,U:1,L:1,N:1,S:1,T:1,R:1,D:2,G:2,B:3,C:3,M:3,P:3,F:4,H:4,V:4,W:4,Y:4,K:5,J:8,X:8,Q:10,Z:10};let o=0;for(const r of e.toUpperCase())"U"===r&&e.toUpperCase().includes("QU")||(o+=t[r]||1);return 1+o/e.length/10}(e),s=Math.floor(n*i*a*t);return Math.max(s,3)}(e,n>60?1.5:n>30?1.2:1);if(H>0&&(o+=e.length*H),U){const r=(null==(t=c.powerUps.find(e=>"vowelBonus"===e.effect.type))?void 0:t.effect.value)||2;o+=e.split("").filter(e=>"aeiouAEIOU".includes(e)).length*r}$>0&&(o+=T*$),_&&e.length>=_.minLength&&(o*=_.multiplier);const r=m.filter(e=>A.has(`${e.row}-${e.col}`)).length;if(r>0&&(o*=1+2*r),V){o*=Math.pow(V.multiplier,D.length)}return Math.round(o)},J=(e,t,o)=>{const r=Z(e,t),n=ee(e,t),i=((e,t)=>A.has(`${e}-${t}`))(e,t),a=U&&(e=>"aeiouAEIOU".includes(e))(o);let s="var(--color-bg)",l="var(--color-text)",c="3px solid var(--color-text)";return r?(s="var(--color-text)",l="var(--color-bg)",c="3px solid var(--color-text)"):n?(s="var(--color-accent)",l="var(--color-bg)",c="3px solid var(--color-text)"):(i||a)&&(s="var(--color-accent)",l="var(--color-text)",c="4px solid var(--color-text)"),{background:s,color:l,border:c,fontWeight:i||a?"bold":"normal"}},K=(e,t)=>{const o=document.elementFromPoint(e,t);if(o&&o.hasAttribute("data-row")&&o.hasAttribute("data-col")){return{row:parseInt(o.getAttribute("data-row")||"0"),col:parseInt(o.getAttribute("data-col")||"0")}}return null},q=(e,t)=>{return o=e,r=t,Math.sqrt(Math.pow(o.row-r.row,2)+Math.pow(o.col-r.col,2))>=.5;var o,r},X=(e,t)=>{b(!0),g([{row:e,col:t}]),G({row:e,col:t})},Q=async()=>{if(x.length>=2&&!D.includes(x)){if(!I(d,m))return void(navigator.vibrate&&navigator.vibrate(100));let e=!1;if(e="checking"===w?await N(x):"valid"===w,e){const e=Y(x);$>0&&L(e=>e+1);const r={word:x,path:[...m],score:e,timestamp:Date.now()};j(e=>[...e,r]),0===a.length&&v([...f,x]),t(x,e),o(e),navigator.vibrate&&navigator.vibrate([50,50,50])}else navigator.vibrate&&navigator.vibrate(100)}},Z=(e,t)=>m.some(o=>o.row===e&&o.col===t),ee=(e,t)=>{const o=m.findIndex(o=>o.row===e&&o.col===t);return-1!==o&&o<m.length-1};return u.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[!i&&u.jsxs("div",{style:{fontSize:"24px",fontWeight:"bold",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",textTransform:"uppercase",minHeight:"24px",textAlign:"center",padding:"12px 20px",background:"var(--color-accent)",color:"var(--color-bg)",border:"3px solid var(--color-text)"},children:[x||"SELECT LETTERS","checking"===w&&u.jsx("span",{style:{marginLeft:"8px",fontSize:"16px"},children:"[?]"}),m.length>0&&!I(d,m)&&u.jsx("span",{style:{marginLeft:"8px",fontSize:"16px"},children:"[X]"})]}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px",padding:"24px",background:"var(--color-bg)",border:"4px solid var(--color-text)",borderRadius:"0",position:"relative",touchAction:"none",userSelect:"none"},onTouchStart:e=>{e.preventDefault();const t=e.touches[0],o=K(t.clientX,t.clientY);o&&(z(Date.now()),G(o),b(!0),g([o]),navigator.vibrate&&navigator.vibrate(10))},onTouchMove:e=>{if(e.preventDefault(),!y||!O)return;const t=e.touches[0],o=K(t.clientX,t.clientY);if(!o)return;if(!q(O,o))return;const r=m.findIndex(e=>e.row===o.row&&e.col===o.col);if(-1!==r)g(m.slice(0,r+1));else if(m.length>0){R(m[m.length-1],o)&&(g([...m,o]),G(o),navigator.vibrate&&navigator.vibrate(5))}},onTouchEnd:async e=>{if(e.preventDefault(),!y)return;if(Date.now()-B<100&&1===m.length)return b(!1),g([]),void G(null);b(!1),G(null),await Q(),g([])},onMouseUp:async()=>{y&&(b(!1),G(null),await Q(),g([]))},children:d.map((e,t)=>e.map((e,o)=>{Z(t,o),ee(t,o);const r=((e,t)=>{const o=m.findIndex(o=>o.row===e&&o.col===t);return-1!==o?o+1:0})(t,o),n=J(t,o,e);return y&&m.length>0&&R(m[m.length-1],{row:t,col:o}),u.jsxs("div",{"data-row":t,"data-col":o,style:{...n,width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"36px",fontWeight:"bold",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",cursor:"pointer",userSelect:"none",textTransform:"uppercase",position:"relative"},onMouseDown:()=>X(t,o),onMouseEnter:()=>((e,t)=>{if(!y||!O)return;const o={row:e,col:t};if(!q(O,o))return;const r=m.findIndex(o=>o.row===e&&o.col===t);-1!==r?g(m.slice(0,r+1)):m.length>0&&R(m[m.length-1],o)&&(g([...m,o]),G(o))})(t,o),onTouchStart:e=>{e.stopPropagation(),X(t,o)},children:[e,r>0&&u.jsx("div",{style:{position:"absolute",top:"4px",right:"4px",fontSize:"14px",fontWeight:"bold",color:"var(--color-bg)",background:"var(--color-text)",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid var(--color-bg)"},children:r})]},`${t}-${o}`)}))}),u.jsx("div",{style:{position:"absolute",top:"-20px",left:"-20px",right:"-20px",bottom:"-20px",pointerEvents:"none",zIndex:-1}}),u.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",marginTop:"20px"},children:[u.jsx("button",{onClick:async()=>{x.length>=2&&!D.includes(x)&&await Q(),g([]),h(""),S("unknown")},className:"gb-button",disabled:x.length<2||D.includes(x)||"invalid"===w||m.length>0&&!I(d,m),style:{fontSize:"16px",padding:"12px 20px",background:x.length>=2&&!D.includes(x)&&"invalid"!==w?"var(--color-text)":"var(--color-accent)",color:x.length>=2&&!D.includes(x)&&"invalid"!==w?"var(--color-bg)":"var(--color-text)",border:"3px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer",opacity:x.length>=2&&!D.includes(x)&&"invalid"!==w?1:.5},children:"SUBMIT"}),u.jsx("button",{onClick:()=>{g([]),b(!1),h(""),S("unknown")},className:"gb-button",style:{fontSize:"16px",padding:"12px 20px",background:"var(--color-bg)",color:"var(--color-text)",border:"3px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer"},children:"CLEAR"}),u.jsx("button",{onClick:()=>{p(P()),0===a.length&&v([]),g([]),h(""),S("unknown"),j([])},className:"gb-button",style:{fontSize:"16px",padding:"12px 20px",background:"var(--color-bg)",color:"var(--color-text)",border:"3px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer"},children:"SHUFFLE"})]}),!1]})}const z=e=>{const t=[{name:"Letter Alchemist",description:"Transform any letter into another",effect:{type:"letterTransform",enabled:!0}},{name:"Vowel Vampire",description:"Steal vowels from unused words",effect:{type:"vowelTheft",chance:.3}},{name:"Consonant Crusher",description:"Consonants worth 2x points",effect:{type:"consonantMultiplier",value:2}},{name:"Golden Vowels",description:"All vowels become golden (3x points)",effect:{type:"goldenVowels",enabled:!0}},{name:"Length Lord",description:"Each letter adds +5 points",effect:{type:"lengthBonus",value:5}},{name:"Short Stack",description:"2-3 letter words score 4x",effect:{type:"shortWordMultiplier",value:4}},{name:"Long Shot",description:"8+ letter words score 5x",effect:{type:"longWordMultiplier",value:5}},{name:"Perfect Length",description:"5-letter words score 10x",effect:{type:"perfectLength",value:10}},{name:"Time Warp",description:"+60 seconds to time limit",effect:{type:"timeBonus",seconds:60}},{name:"Speed Demon",description:"Fast words get 2x bonus",effect:{type:"speedBonus",multiplier:2}},{name:"Time Bank",description:"Unused time converts to coins",effect:{type:"timeToCoins",ratio:.1}},{name:"Frozen Time",description:"Time stops during word selection",effect:{type:"timeFreeze",enabled:!0}},{name:"Palindrome Prince",description:"Palindromes score 8x",effect:{type:"palindromeMultiplier",value:8}},{name:"Anagram King",description:"Anagrams score 6x",effect:{type:"anagramMultiplier",value:6}},{name:"Rhyme Master",description:"Rhyming words score 4x",effect:{type:"rhymeMultiplier",value:4}},{name:"Alliteration Ace",description:"Alliterations score 5x",effect:{type:"alliterationMultiplier",value:5}},{name:"Diagonal Dancer",description:"Diagonal moves worth 2x",effect:{type:"diagonalBonus",value:2}},{name:"Pathfinder",description:"Longest path gets bonus",effect:{type:"pathBonus",enabled:!0}},{name:"Grid Master",description:"Use entire grid for 3x bonus",effect:{type:"gridBonus",value:3}},{name:"Spiral Seeker",description:"Spiral patterns score 4x",effect:{type:"spiralBonus",value:4}},{name:"Score Doubler",description:"All scores doubled",effect:{type:"scoreMultiplier",value:2}},{name:"Chain Master",description:"Each consecutive word +10 points",effect:{type:"chainBonus",value:10}},{name:"Combo King",description:"Combos multiply scores",effect:{type:"comboMultiplier",enabled:!0}},{name:"Streak Seeker",description:"Streaks give exponential bonus",effect:{type:"streakBonus",enabled:!0}},{name:"Noun Hunter",description:"Nouns score 3x",effect:{type:"nounMultiplier",value:3}},{name:"Verb Virtuoso",description:"Verbs score 3x",effect:{type:"verbMultiplier",value:3}},{name:"Adjective Ace",description:"Adjectives score 3x",effect:{type:"adjectiveMultiplier",value:3}},{name:"Plural Power",description:"Plurals score 2x",effect:{type:"pluralMultiplier",value:2}},{name:"Word Echo",description:"25% chance to duplicate word",effect:{type:"wordEcho",chance:.25}},{name:"Letter God",description:"All letters become any letter",effect:{type:"letterGod",enabled:!0}},{name:"Infinite Loop",description:"Words can be found multiple times",effect:{type:"infiniteLoop",enabled:!0}},{name:"Reality Hack",description:"Break one game rule",effect:{type:"ruleBreaker",enabled:!0}},{name:"Coin Magnet",description:"+2 coins per word found",effect:{type:"coinPerWord",value:2}},{name:"Rich Words",description:"Long words give bonus coins",effect:{type:"wordToCoins",ratio:.5}},{name:"Investment Banker",description:"Coins multiply over time",effect:{type:"coinGrowth",enabled:!0}},{name:"Lucky Strike",description:"10% chance for +10 coins",effect:{type:"luckyCoins",chance:.1}},{name:"Synergy Master",description:"Matching power cards multiply",effect:{type:"synergyMultiplier",enabled:!0}},{name:"Power Collector",description:"Each power card adds +1x multiplier",effect:{type:"jokerMultiplier",enabled:!0}},{name:"Perfect Pair",description:"Paired power cards score 10x",effect:{type:"pairBonus",value:10}},{name:"Trinity Force",description:"Three power cards = 20x bonus",effect:{type:"trinityBonus",value:20}},{name:"Risk Taker",description:"Harder challenges = bigger rewards",effect:{type:"riskReward",enabled:!0}},{name:"Speed Runner",description:"Fast completion = bonus",effect:{type:"speedReward",enabled:!0}},{name:"Perfectionist",description:"Perfect score = 10x bonus",effect:{type:"perfectionBonus",value:10}},{name:"Underdog",description:"Low score = comeback bonus",effect:{type:"underdogBonus",enabled:!0}},{name:"Wild Card",description:"Any letter becomes wild",effect:{type:"wildCard",enabled:!0}},{name:"Power Wild",description:"Power cards become wild letters",effect:{type:"jokerWild",enabled:!0}},{name:"Chaos Theory",description:"Random effects each word",effect:{type:"chaosEffects",enabled:!0}},{name:"Quantum Leap",description:"Teleport to any letter",effect:{type:"quantumLeap",enabled:!0}},{name:"Meta Master",description:"Power cards affect other power cards",effect:{type:"metaJoker",enabled:!0}},{name:"Power Power",description:"Power cards can be power cards",effect:{type:"jokerJoker",enabled:!0}},{name:"Infinite Power",description:"Power cards multiply themselves",effect:{type:"infiniteJoker",enabled:!0}},{name:"Power God",description:"All power cards become legendary",effect:{type:"jokerGod",enabled:!0}}],o=t[Math.floor(Math.random()*t.length)];return{id:`${o.name.toLowerCase().replace(/\s+/g,"_")}_${Date.now()}`,name:o.name,description:o.description,effect:o.effect,levelAcquired:e}},O=e=>({"Letter Alchemist":"🔮","Vowel Vampire":"🧛","Consonant Crusher":"💪","Golden Vowels":"✨","Length Lord":"📏","Short Stack":"📦","Long Shot":"🎯","Perfect Length":"⭐","Time Warp":"⏰","Speed Demon":"⚡","Time Bank":"🏦","Frozen Time":"❄️","Palindrome Prince":"👑","Anagram King":"🎭","Rhyme Master":"🎵","Alliteration Ace":"🎪","Diagonal Dancer":"💃",Pathfinder:"🗺️","Grid Master":"🎮","Spiral Seeker":"🌀","Score Doubler":"🎲","Chain Master":"⛓️","Combo King":"👑","Streak Seeker":"🔥","Noun Hunter":"🏹","Verb Virtuoso":"🎭","Adjective Ace":"🎨","Plural Power":"📚","Word Echo":"🔄","Letter God":"👑","Infinite Loop":"♾️","Reality Hack":"💻","Coin Magnet":"🧲","Rich Words":"💰","Investment Banker":"🏛️","Lucky Strike":"🍀","Synergy Master":"🔗","Power Collector":"🃏","Perfect Pair":"💕","Trinity Force":"☯️","Risk Taker":"🎲","Speed Runner":"🏃",Perfectionist:"✨",Underdog:"🐕","Wild Card":"🃏","Power Wild":"🎭","Chaos Theory":"🌪️","Quantum Leap":"🚀","Meta Master":"🧠","Power Power":"🎪","Infinite Power":"♾️","Power God":"👑"}[e]||"🎯"),G=(e,t,o,r)=>{const n={scoreModifier:1,coinBonus:0,timeBonus:0,wordModifications:[],gridModifications:[],messages:[]};switch(e.type){case"letterTransform":e.enabled&&n.messages.push("🔮 Letter transformation available");break;case"vowelTheft":if(Math.random()<e.chance){const e=["A","E","I","O","U"],t=e[Math.floor(Math.random()*e.length)];n.wordModifications.push(`Stole vowel: ${t}`),n.scoreModifier*=2,n.messages.push(`🧛 Stole vowel ${t} for 2x bonus!`)}break;case"consonantMultiplier":const o=t.split("").filter(e=>!["A","E","I","O","U"].includes(e)).length;o>0&&(n.scoreModifier*=e.value,n.messages.push(`💪 Consonants worth ${e.value}x (${o} consonants)`));break;case"goldenVowels":if(e.enabled){const e=t.split("").filter(e=>["A","E","I","O","U"].includes(e)).length;e>0&&(n.scoreModifier*=4,n.messages.push(`✨ Golden vowels: ${e} vowels worth 4x!`))}break;case"lengthBonus":const i=1+t.length*e.value/100;n.scoreModifier*=i,n.messages.push(`📏 Length bonus: +${e.value}% per letter (${Math.round(100*(i-1))}% total)`);break;case"shortWordMultiplier":t.length<=3&&(n.scoreModifier*=e.value,n.messages.push(`📦 Short word bonus: ${e.value}x for ${t.length}-letter word`));break;case"longWordMultiplier":t.length>=8&&(n.scoreModifier*=e.value,n.messages.push(`🎯 Long word bonus: ${e.value}x for ${t.length}-letter word`));break;case"perfectLength":5===t.length&&(n.scoreModifier*=e.value,n.messages.push(`⭐ Perfect length: ${e.value}x for 5-letter word`));break;case"timeBonus":n.timeBonus+=e.seconds,n.messages.push(`⏰ Time bonus: +${e.seconds}s`);break;case"speedBonus":n.scoreModifier*=e.multiplier,n.messages.push(`⚡ Speed bonus: ${e.multiplier}x`);break;case"timeToCoins":const a=Math.floor(r.timeRemaining*e.ratio);n.coinBonus+=a,n.messages.push(`🏦 Time to coins: +${a} coins`);break;case"timeFreeze":e.enabled&&n.messages.push("❄️ Time freeze active");break;case"palindromeMultiplier":D(t)&&(n.scoreModifier*=e.value,n.messages.push(`👑 Palindrome bonus: ${e.value}x for "${t}"`));break;case"anagramMultiplier":F(t,r.wordsFound)&&(n.scoreModifier*=e.value,n.messages.push(`🎭 Anagram bonus: ${e.value}x - found anagram!`));break;case"rhymeMultiplier":U(t,r.wordsFound)&&(n.scoreModifier*=e.value,n.messages.push(`🎵 Rhyme bonus: ${e.value}x - rhyming words!`));break;case"alliterationMultiplier":$(t)&&(n.scoreModifier*=e.value,n.messages.push(`🎪 Alliteration bonus: ${e.value}x for "${t}"`));break;case"diagonalBonus":n.scoreModifier*=e.value,n.messages.push(`💃 Diagonal bonus: ${e.value}x`);break;case"pathBonus":e.enabled&&n.messages.push("🗺️ Path bonus active");break;case"gridBonus":n.scoreModifier*=e.value,n.messages.push(`🎮 Grid bonus: ${e.value}x`);break;case"spiralBonus":n.scoreModifier*=e.value,n.messages.push(`🌀 Spiral bonus: ${e.value}x`);break;case"scoreMultiplier":n.scoreModifier*=e.value,n.messages.push(`🎲 Score multiplier: ${e.value}x`);break;case"chainBonus":const s=1+r.wordsFound.length*e.value/100;n.scoreModifier*=s,n.messages.push(`⛓️ Chain bonus: +${e.value}% per word (${Math.round(100*(s-1))}% total)`);break;case"comboMultiplier":e.enabled&&n.messages.push("👑 Combo system active");break;case"streakBonus":e.enabled&&n.messages.push("🔥 Streak system active");break;case"nounMultiplier":H(t)&&(n.scoreModifier*=e.value,n.messages.push(`🏹 Noun bonus: ${e.value}x for "${t}"`));break;case"verbMultiplier":_(t)&&(n.scoreModifier*=e.value,n.messages.push(`🎭 Verb bonus: ${e.value}x for "${t}"`));break;case"adjectiveMultiplier":V(t)&&(n.scoreModifier*=e.value,n.messages.push(`🎨 Adjective bonus: ${e.value}x for "${t}"`));break;case"pluralMultiplier":Y(t)&&(n.scoreModifier*=e.value,n.messages.push(`📚 Plural bonus: ${e.value}x for "${t}"`));break;case"wordEcho":Math.random()<e.chance&&(n.wordModifications.push(`Echo: ${t}`),n.scoreModifier*=3,n.messages.push(`🔄 Word echo: "${t}" duplicated for 3x score!`));break;case"letterGod":e.enabled&&n.messages.push("👑 Letter God: All letters are wild");break;case"infiniteLoop":e.enabled&&n.messages.push("♾️ Infinite loop: Words can be found multiple times");break;case"ruleBreaker":e.enabled&&n.messages.push("💻 Reality hack: One rule broken");break;case"coinPerWord":n.coinBonus+=e.value,n.messages.push(`🧲 Coin magnet: +${e.value} coins`);break;case"wordToCoins":const l=Math.floor(t.length*e.ratio);n.coinBonus+=l,n.messages.push(`💰 Rich words: +${l} coins for ${t.length}-letter word`);break;case"coinGrowth":e.enabled&&n.messages.push("🏛️ Investment banker: Coins multiply over time");break;case"luckyCoins":Math.random()<e.chance&&(n.coinBonus+=15,n.messages.push("🍀 Lucky strike: +15 coins!"));break;case"synergyMultiplier":e.enabled&&n.messages.push("🔗 Synergy master: Matching power cards multiply");break;case"jokerMultiplier":if(e.enabled){const e=r.activePerks.length,t=1+.3*e;n.scoreModifier*=t,n.messages.push(`🃏 Power collector: +${.3*e}x from ${e} power cards`)}break;case"pairBonus":n.scoreModifier*=e.value,n.messages.push(`💕 Perfect pair: ${e.value}x bonus`);break;case"trinityBonus":n.scoreModifier*=e.value,n.messages.push(`☯️ Trinity force: ${e.value}x bonus`);break;case"riskReward":e.enabled&&n.messages.push("🎲 Risk taker: Harder challenges = bigger rewards");break;case"speedReward":e.enabled&&n.messages.push("🏃 Speed runner: Fast completion = bonus");break;case"perfectionBonus":n.scoreModifier*=e.value,n.messages.push(`✨ Perfectionist: ${e.value}x bonus`);break;case"underdogBonus":e.enabled&&n.messages.push("🐕 Underdog: Low score = comeback bonus");break;case"wildCard":e.enabled&&n.messages.push("🃏 Wild card: Any letter becomes wild");break;case"jokerWild":e.enabled&&n.messages.push("🎭 Power wild: Power cards become wild letters");break;case"chaosEffects":e.enabled&&n.messages.push("🌪️ Chaos theory: Random effects each word");break;case"quantumLeap":e.enabled&&n.messages.push("🚀 Quantum leap: Teleport to any letter");break;case"metaJoker":e.enabled&&n.messages.push("🧠 Meta master: Power cards affect other power cards");break;case"jokerJoker":e.enabled&&n.messages.push("🎪 Power power: Power cards can be power cards");break;case"infiniteJoker":e.enabled&&n.messages.push("♾️ Infinite power: Power cards multiply themselves");break;case"jokerGod":e.enabled&&n.messages.push("👑 Power God: All power cards become legendary")}return n},D=e=>{const t=e.toUpperCase().replace(/[^A-Z]/g,"");return t===t.split("").reverse().join("")},F=(e,t)=>{const o=e.split("").sort().join("");return t.some(t=>t!==e&&t.split("").sort().join("")===o)},U=(e,t)=>{const o=e.slice(-2).toLowerCase();return t.some(t=>t!==e&&t.slice(-2).toLowerCase()===o)},$=e=>{const t=e.split(" ");if(t.length<2)return!1;const o=t[0].charAt(0).toLowerCase();return t.every(e=>e.charAt(0).toLowerCase()===o)},H=e=>["CAT","DOG","HOUSE","CAR","BOOK","TREE","WATER","FIRE","EARTH","AIR"].includes(e.toUpperCase()),_=e=>["RUN","WALK","JUMP","EAT","SLEEP","READ","WRITE","PLAY","WORK","TALK"].includes(e.toUpperCase()),V=e=>["BIG","SMALL","FAST","SLOW","HOT","COLD","GOOD","BAD","NEW","OLD"].includes(e.toUpperCase()),Y=e=>e.toUpperCase().endsWith("S")&&e.length>1;function J(){const{gameState:e,resetGame:t,selectChallenge:o,dispatch:r}=k();return u.jsxs("div",{className:"game-interface",children:["selectingChallenge"===e.gamePhase&&u.jsx(K,{}),"playingChallenge"===e.gamePhase&&u.jsx(q,{}),"shopping"===e.gamePhase&&u.jsx(ee,{}),"runComplete"===e.gamePhase&&u.jsx(Z,{}),"gameOver"===e.gamePhase&&u.jsx(X,{}),"victory"===e.gamePhase&&u.jsx(Q,{})]})}function K(){const{selectChallenge:t,gameState:o,dispatch:r}=k(),[n,i]=e.useState(""),[a,s]=e.useState(null),l=e=>{const t=o.currentLevel,r={apprentice:1,scholar:1.3,expert:1.6,master:2,grandmaster:2.5}[o.difficulty]||1;return Math.floor(e*Math.pow(1.15,t-1)*r)},c=e=>{const t=["WORD HUNT","VOWEL VOID","LETTER LOCKDOWN","CONSONANT CHAOS","TIME PRESSURE","LENGTH LIMIT","DIAGONAL DENIAL","SYMMETRY SEEKER","PALINDROME PUSH","ANAGRAM ATTACK","RHYME TIME","ALLITERATION ALLEY","SYLLABLE SURGE","PREFIX POWER","SUFFIX STORM","COMPOUND CRAZE"];return t[(e-1)%t.length]},d=e=>{const t=["Find words in the grid","Reduced vowel frequency","Restricted letter movement","Consonant-heavy grid","Shorter time limits","Minimum word length required","No diagonal connections","Symmetrical word patterns","Palindromes score bonus","Anagram challenges","Rhyming word pairs","Alliteration bonuses","Syllable counting","Prefix-focused words","Suffix combinations","Compound word building"];return t[(e-1)%t.length]},p=e=>{const t=[">>","AE","##","CC","||","LL","DD","SS","PP","AA","RR","AL","SY","PF","SF","CP"];return t[(e-1)%t.length]},m=e=>{const t=[["No time extensions","Limited word length bonus"],["30% fewer vowels","Vowels worth +1 point each"],["Can only move horizontally/vertically","No diagonal connections"],["80% consonants","Consonant chains required"],["Time limit reduced by 30s","Speed bonus required"],["Minimum 4-letter words only","Short words penalized"],["Grid movement restricted","Linear paths only"],["Words must be symmetrical","Pattern matching required"],["Palindromes score 3x","Other words penalized"],["Anagrams score bonus","Word scrambling required"],["Rhyming pairs bonus","Sound matching needed"],["Alliteration required","Same letter starts"],["Syllable counting","Complex word structures"],["Prefix-focused scoring","Word beginnings matter"],["Suffix combinations","Word endings important"],["Compound words only","Multi-word combinations"]];return t[(e-1)%t.length]},g=(()=>{const e=o.currentLevel;return{type:"standard",name:"WORD HUNT",description:"Find words in the grid",icon:">>",targetScore:l(30+5*e),timeLimit:120,coinReward:Math.floor(15+2*e),disadvantages:["No time extensions","Limited word length bonus"],skipPerk:z(o.currentLevel)}})(),x=(()=>{const e=[];for(let t=1;t<=3;t++){const r=o.currentLevel+t;if(r>o.maxLevel)break;const n=30+5*r;e.push({level:r,name:c(r),description:d(r),icon:p(r),targetScore:l(n),timeLimit:120-10*t,coinReward:Math.floor(15+2*r),disadvantages:m(r),skipPerk:z(r)})}return e})();return u.jsxs("div",{style:{width:"100vw",height:"calc(var(--vh, 1vh) * 100)",background:"var(--color-bg)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",position:"fixed",top:0,left:0},children:[u.jsxs("div",{style:{marginBottom:"20px",fontSize:"24px",fontWeight:"bold",color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",textTransform:"uppercase",textAlign:"center"},children:["[>] LEVEL ",o.currentLevel," [<]"]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",maxWidth:"500px",marginBottom:"20px",fontSize:"16px",fontWeight:"bold",color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace"},children:[u.jsxs("div",{children:["RUN: ",o.currentRun]}),u.jsxs("div",{children:["LEVEL: ",o.currentLevel,"/",o.maxLevel]}),u.jsxs("div",{children:["[C] ",o.coins]})]}),o.activePerks&&o.activePerks.length>0&&u.jsxs("div",{style:{background:"var(--color-accent)",borderBottom:"3px solid var(--color-text)",padding:"8px 12px",display:"flex",alignItems:"center",gap:"8px",overflowX:"auto",flexShrink:0},children:[u.jsx("div",{style:{fontSize:"14px",color:"var(--color-bg)",fontWeight:"bold",textTransform:"uppercase",flexShrink:0},children:"POWER CARDS:"}),o.activePerks.map((e,t)=>u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",background:"var(--color-bg)",border:"2px solid var(--color-text)",padding:"4px 8px",borderRadius:"0",flexShrink:0,fontSize:"12px",color:"var(--color-text)",fontWeight:"bold"},children:[u.jsx("span",{children:O(e.name)}),u.jsx("span",{style:{fontSize:"10px"},children:e.name})]},e.id))]}),u.jsx("div",{style:{width:"100%",maxWidth:"500px",marginBottom:"20px"},children:u.jsxs("div",{className:"gb-button",onClick:()=>{i(g.type),setTimeout(()=>(e=>{const o={id:`${e.type}-${Date.now()}`,type:e.type,name:e.name,description:e.description,targetScore:e.targetScore,maxWords:20,timeLimit:e.timeLimit,coinReward:e.coinReward,disadvantages:e.disadvantages,skipPerk:e.skipPerk,specialRule:null,canSkip:!0};t(o)})(g),100)},style:{background:n===g.type?"var(--color-text)":"var(--color-bg)",color:n===g.type?"var(--color-bg)":"var(--color-text)",border:"4px solid var(--color-text)",padding:"20px",fontSize:"16px",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer",textAlign:"left",width:"100%"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[u.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold"},children:[g.icon," ",g.name]}),u.jsxs("div",{style:{fontSize:"14px"},children:["[C] ",g.coinReward]})]}),u.jsx("div",{style:{fontSize:"14px",marginBottom:"12px",fontWeight:"normal"},children:g.description}),u.jsxs("div",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[u.jsxs("div",{children:["Target: ",g.targetScore," pts"]}),u.jsxs("div",{children:["Time: ",g.timeLimit,"s"]})]}),u.jsxs("div",{style:{marginBottom:"12px"},children:[u.jsx("div",{style:{fontSize:"12px",fontWeight:"bold",marginBottom:"4px",color:"var(--color-accent)"},children:"DISADVANTAGES:"}),g.disadvantages.map((e,t)=>u.jsxs("div",{style:{fontSize:"11px",marginBottom:"2px",color:"var(--color-accent)"},children:["• ",e]},t))]}),u.jsxs("div",{style:{background:"var(--color-accent)",padding:"8px",border:"2px solid var(--color-text)"},children:[u.jsxs("div",{style:{fontSize:"12px",fontWeight:"bold",marginBottom:"4px",color:"var(--color-bg)"},children:["SKIP PERK: ",g.skipPerk.name]}),u.jsx("div",{style:{fontSize:"11px",color:"var(--color-bg)"},children:g.skipPerk.description})]})]})}),u.jsxs("div",{style:{width:"100%",maxWidth:"500px",marginBottom:"20px"},children:[u.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",color:"var(--color-text)",marginBottom:"10px",textAlign:"center"},children:"FUTURE LEVELS:"}),x.map((e,t)=>u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsxs("div",{className:"gb-button",onClick:()=>s(a===e.level?null:e.level),style:{background:"var(--color-bg)",color:"var(--color-text)",border:"2px solid var(--color-text)",padding:"8px 12px",fontSize:"12px",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs("div",{children:["LEVEL ",e.level,": ",e.name]}),u.jsx("div",{children:a===e.level?"[-]":"[+]"})]}),a===e.level&&u.jsxs("div",{style:{background:"var(--color-accent)",border:"2px solid var(--color-text)",padding:"12px",marginTop:"2px",fontSize:"11px",color:"var(--color-bg)"},children:[u.jsx("div",{style:{marginBottom:"8px"},children:u.jsx("strong",{children:e.description})}),u.jsxs("div",{style:{marginBottom:"8px"},children:["Target: ",e.targetScore," pts | Time: ",e.timeLimit,"s | Coins: ",e.coinReward]}),u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("strong",{children:"Disadvantages:"}),e.disadvantages.map((e,t)=>u.jsxs("div",{style:{marginLeft:"8px"},children:["• ",e]},t))]}),u.jsxs("div",{children:[u.jsx("strong",{children:"Skip Perk:"})," ",e.skipPerk.name," - ",e.skipPerk.description]})]})]},e.level))]}),u.jsx("div",{style:{textAlign:"center"},children:u.jsx("button",{className:"gb-button",onClick:()=>{r({type:"SKIP_LEVEL",payload:{level:o.currentLevel,perk:g.skipPerk}})},style:{padding:"12px 24px",fontSize:"14px",background:"var(--color-accent)",color:"var(--color-bg)",border:"3px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer"},children:"[!] SKIP LEVEL (Get Perk, No Coins)"})})]})}function q(){var t,o,r;const{gameState:n,dispatch:i}=k(),[a,s]=e.useState(0),[l,c]=e.useState((null==(t=n.currentChallenge)?void 0:t.timeLimit)||120),[d,p]=e.useState([]),[m,g]=e.useState(""),[x,h]=e.useState(null),[f,v]=e.useState([]),[y,b]=e.useState(0);e.useEffect(()=>{const e=setInterval(()=>{c(e=>e<=1?(w(),0):e-1)},1e3);return()=>clearInterval(e)},[]);const w=e=>{var t,o;const r=e||a,s=(null==(t=n.currentChallenge)?void 0:t.targetScore)||500,l=(null==(o=n.currentChallenge)?void 0:o.coinReward)||20;if(r>=s){const e=l+Math.floor(r/100);i({type:"COMPLETE_LEVEL",payload:{score:r,coins:e}})}else i({type:"GAME_OVER"})},S=()=>{var e;const t=(null==(e=n.currentChallenge)?void 0:e.targetScore)||500;return Math.min(a/t*100,100)};return u.jsxs("div",{style:{width:"100vw",height:"calc(var(--vh, 1vh) * 100)",display:"flex",flexDirection:"column",background:"var(--color-bg)",overflow:"hidden",position:"fixed",top:0,left:0},children:[u.jsxs("div",{style:{background:"var(--color-bg)",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"3px solid var(--color-text)",zIndex:2,flexShrink:0,paddingTop:"calc(env(safe-area-inset-top, 0px) + 12px)",paddingBottom:"12px",paddingLeft:"12px",paddingRight:"12px",minHeight:"60px"},children:[u.jsxs("div",{style:{fontSize:"18px",color:"var(--color-text)",width:"70px",textAlign:"left",lineHeight:1.2,fontWeight:"bold"},children:["[C] ",n.coins]}),u.jsxs("div",{style:{position:"relative",fontSize:"32px",color:"var(--color-text)",fontWeight:"bold",textAlign:"center",minWidth:"90px",lineHeight:1},children:[a,x&&u.jsxs("div",{style:{position:"absolute",top:"-25px",right:"-10px",color:"var(--color-accent)",fontSize:"20px",pointerEvents:"none",fontWeight:"bold"},children:["+",x]})]}),u.jsxs("div",{style:{fontSize:"18px",color:"var(--color-text)",width:"70px",textAlign:"right",lineHeight:1.2,fontWeight:"bold"},children:["[*] ",null==(o=n.currentChallenge)?void 0:o.targetScore]})]}),n.activePerks&&n.activePerks.length>0&&u.jsxs("div",{style:{background:"var(--color-accent)",borderBottom:"3px solid var(--color-text)",padding:"8px 12px",display:"flex",alignItems:"center",gap:"8px",overflowX:"auto",flexShrink:0},children:[u.jsx("div",{style:{fontSize:"14px",color:"var(--color-bg)",fontWeight:"bold",textTransform:"uppercase",flexShrink:0},children:"POWER CARDS:"}),n.activePerks.map((e,t)=>u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",background:"var(--color-bg)",border:"2px solid var(--color-text)",padding:"4px 8px",borderRadius:"0",flexShrink:0,fontSize:"12px",color:"var(--color-text)",fontWeight:"bold"},children:[u.jsx("span",{children:O(e.name)}),u.jsx("span",{style:{fontSize:"10px"},children:e.name})]},e.id))]}),u.jsx("div",{style:{height:"60px",background:"var(--color-accent)",display:"flex",alignItems:"center",justifyContent:"center",borderBottom:"3px solid var(--color-text)",zIndex:2,overflow:"hidden",flexShrink:0},children:u.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"90%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"var(--color-bg)",textTransform:"uppercase"},children:[m||"SELECT LETTERS",m.length>=3&&u.jsxs("span",{style:{marginLeft:"8px",fontSize:"16px",color:"var(--color-accent)",flexShrink:0,fontWeight:"bold"},children:["(",m.length,")"]})]})}),u.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",zIndex:1,minHeight:0,flexDirection:"column"},children:u.jsx(B,{onWordFound:(e,t)=>{const o={currentWord:e,currentScore:a,totalScore:n.totalScore,wordsFound:d,timeRemaining:l,grid:[],coins:n.coins,activePerks:n.activePerks||[],level:n.currentLevel},r=((e,t,o)=>{let r=1,n=0,i=0;const a=[],s=[],l=[];return o.activePerks.forEach(c=>{const d=G(c.effect,e,t,o);r*=d.scoreModifier,n+=d.coinBonus,i+=d.timeBonus,a.push(...d.wordModifications),s.push(...d.gridModifications),l.push(...d.messages)}),{scoreModifier:r,coinBonus:n,timeBonus:i,wordModifications:a,gridModifications:s,messages:l}})(e,t,o),u=Math.floor(t*r.scoreModifier),m=r.coinBonus,g=r.timeBonus;r.messages.length>0&&(v(r.messages),setTimeout(()=>v([]),3e3)),p(t=>[...t,e]),s(e=>{var t;const o=e+u,r=(null==(t=n.currentChallenge)?void 0:t.targetScore)||500;return o>=r&&setTimeout(()=>{w(o)},1e3),o}),m>0&&i({type:"SPEND_COINS",payload:-m}),g>0&&c(e=>e+g),h(u);setTimeout(()=>h(null),u>=11?1500:u>=5?1200:1e3)},onScoreUpdate:e=>{},onCurrentWordChange:e=>{g(e)},timeRemaining:l,hideWordDisplay:!0,foundWords:d},y)}),f.length>0&&u.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1e3,background:"var(--color-bg)",border:"3px solid var(--color-text)",padding:"16px",borderRadius:"0",maxWidth:"300px",textAlign:"center",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace"},children:[u.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",color:"var(--color-text)",marginBottom:"8px",textTransform:"uppercase"},children:"POWER CARD EFFECTS!"}),f.map((e,t)=>u.jsx("div",{style:{fontSize:"14px",color:"var(--color-accent)",marginBottom:"4px",fontWeight:"bold"},children:e},t))]}),u.jsxs("div",{style:{background:"var(--color-bg)",display:"flex",alignItems:"center",justifyContent:"space-between",borderTop:"3px solid var(--color-text)",zIndex:2,flexShrink:0,paddingTop:"16px",paddingBottom:"calc(env(safe-area-inset-bottom, 0px) + 16px)",paddingLeft:"16px",paddingRight:"16px",minHeight:"calc(100px + env(safe-area-inset-bottom, 0px))"},children:[u.jsxs("div",{style:{textAlign:"center",flex:1},children:[u.jsx("div",{style:{fontSize:"16px",color:"var(--color-text)",marginBottom:"4px",fontWeight:"bold"},children:"CHALLENGE"}),u.jsx("div",{style:{fontSize:"20px",color:"var(--color-accent)",fontWeight:"bold"},children:(null==(r=n.currentChallenge)?void 0:r.name)||"CHALLENGE"})]}),u.jsxs("div",{style:{textAlign:"center",flex:2},children:[u.jsxs("div",{style:{fontSize:"16px",color:"var(--color-text)",marginBottom:"4px",fontWeight:"bold"},children:["PROGRESS ",Math.round(S()),"%"]}),u.jsx("div",{style:{width:"100%",height:"12px",background:"var(--color-bg)",border:"2px solid var(--color-text)",position:"relative",overflow:"hidden"},children:u.jsx("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:`${S()}%`,background:S()>=100?"var(--color-text)":"var(--color-accent)",transition:"width 0.5s ease"}})})]}),u.jsxs("div",{style:{textAlign:"center",flex:1},children:[u.jsx("div",{style:{fontSize:"16px",color:"var(--color-text)",marginBottom:"4px",fontWeight:"bold"},children:"WORDS"}),u.jsx("div",{style:{fontSize:"20px",color:"var(--color-accent)",fontWeight:"bold"},children:d.length})]}),u.jsxs("div",{style:{textAlign:"center",flex:1},children:[u.jsx("div",{style:{fontSize:"16px",color:"var(--color-text)",marginBottom:"4px",fontWeight:"bold"},children:"TIME"}),u.jsx("div",{style:{fontSize:"20px",color:"var(--color-text)",fontWeight:"bold"},children:oe(l)})]})]}),u.jsxs("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"space-between",width:"100%",marginTop:"24px",padding:"0 24px"},children:[u.jsx("button",{onClick:()=>{n.coins>=10&&(i({type:"SPEND_COINS",payload:10}),b(e=>e+1))},disabled:n.coins<10,style:{fontSize:"18px",padding:"12px 24px",background:n.coins>=10?"var(--color-accent)":"var(--color-bg)",color:n.coins>=10?"var(--color-bg)":"var(--color-text)",border:"3px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",cursor:n.coins>=10?"pointer":"not-allowed",opacity:n.coins>=10?1:.5,minWidth:"120px",minHeight:"60px",borderRadius:"0",marginBottom:"8px"},children:"SHUFFLE [-10C]"}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0"},children:[u.jsx("div",{style:{display:"flex",gap:"12px",marginBottom:"4px"},children:n.activePerks&&n.activePerks.length>0?n.activePerks.slice(0,3).map((e,t)=>u.jsx("div",{style:{width:"48px",height:"48px",border:"2px solid var(--color-text)",background:"var(--color-bg)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",borderRadius:"0",margin:0},children:O(e.name)},e.id)):u.jsx("div",{style:{width:"48px",height:"48px",border:"2px solid var(--color-text)",background:"var(--color-bg)"}})}),u.jsx("span",{style:{fontSize:"14px",color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",marginTop:"0",letterSpacing:"1px"},children:"Power Cards"})]}),u.jsxs("div",{style:{fontSize:"18px",color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",minWidth:"100px",textAlign:"right",marginBottom:"8px"},children:["Words: ",d.length]})]})]})}function X(){var e;const{resetGame:t,gameState:o}=k();return u.jsxs("div",{style:{width:"100vw",height:"calc(var(--vh, 1vh) * 100)",background:"var(--color-bg)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"fixed",top:0,left:0,padding:"20px",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace"},children:[u.jsx("div",{style:{fontSize:"48px",marginBottom:"20px",color:"var(--color-text)",fontWeight:"bold"},children:"[X]"}),u.jsx("div",{style:{fontSize:"32px",color:"var(--color-text)",marginBottom:"20px",fontWeight:"bold",textTransform:"uppercase"},children:"GAME OVER"}),u.jsx("div",{style:{fontSize:"18px",color:"var(--color-text)",marginBottom:"20px",fontWeight:"bold",textAlign:"center"},children:"BETTER LUCK NEXT TIME!"}),u.jsxs("div",{style:{fontSize:"14px",color:"var(--color-text)",marginBottom:"30px",textAlign:"center"},children:["YOU NEEDED ",null==(e=o.currentChallenge)?void 0:e.targetScore," POINTS TO WIN"]}),u.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:[u.jsx("button",{onClick:t,className:"gb-button",style:{fontSize:"16px",padding:"12px 20px"},children:"[R] TRY AGAIN"}),u.jsx("button",{onClick:()=>window.location.reload(),className:"gb-button",style:{fontSize:"16px",padding:"12px 20px"},children:"[H] MAIN MENU"})]})]})}function Q(){var e;const{gameState:t,resetGame:o}=k();return u.jsxs("div",{style:{width:"100vw",height:"calc(var(--vh, 1vh) * 100)",background:"var(--color-bg)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"fixed",top:0,left:0,padding:"20px",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace"},children:[u.jsx("div",{style:{fontSize:"64px",marginBottom:"20px",color:"var(--color-text)",fontWeight:"bold"},children:"[!]"}),u.jsx("div",{style:{fontSize:"32px",color:"var(--color-text)",marginBottom:"20px",fontWeight:"bold",textTransform:"uppercase"},children:"VICTORY!"}),u.jsx("div",{style:{fontSize:"18px",color:"var(--color-text)",marginBottom:"20px",fontWeight:"bold",textAlign:"center"},children:"[*] CHALLENGE COMPLETE! [*]"}),u.jsxs("div",{style:{fontSize:"16px",margin:"20px 0",color:"var(--color-text)",fontWeight:"bold"},children:["[C] COINS EARNED: ",(null==(e=t.currentChallenge)?void 0:e.coinReward)||20]}),u.jsx("div",{style:{fontSize:"14px",color:"var(--color-text)",marginBottom:"30px",textAlign:"center"},children:"READY FOR THE NEXT CHALLENGE?"}),u.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:[u.jsx("button",{onClick:o,className:"gb-button",style:{fontSize:"16px",padding:"12px 20px",background:"var(--color-text)",color:"var(--color-bg)"},children:"[>] CONTINUE"}),u.jsx("button",{onClick:()=>window.location.reload(),className:"gb-button",style:{fontSize:"16px",padding:"12px 20px"},children:"[H] MAIN MENU"})]})]})}function Z(){const{gameState:e,dispatch:t}=k();return u.jsxs("div",{style:{width:"100vw",height:"calc(var(--vh, 1vh) * 100)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"var(--color-bg)",padding:"20px",position:"fixed",top:0,left:0},children:[u.jsx("div",{style:{marginBottom:"40px",fontSize:"32px",fontWeight:"bold",color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",textTransform:"uppercase",textAlign:"center"},children:"[!] RUN COMPLETE [!]"}),u.jsxs("div",{style:{background:"var(--color-accent)",border:"3px solid var(--color-text)",padding:"30px",marginBottom:"40px",textAlign:"center",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",color:"var(--color-bg)",minWidth:"300px"},children:[u.jsxs("div",{style:{fontSize:"18px",marginBottom:"20px",fontWeight:"bold"},children:["RUN #",e.currentRun," COMPLETED"]}),u.jsxs("div",{style:{fontSize:"16px",marginBottom:"10px"},children:["LEVELS COMPLETED: ",e.maxLevel]}),u.jsxs("div",{style:{fontSize:"16px",marginBottom:"10px"},children:["FINAL SCORE: ",e.totalScore]}),u.jsxs("div",{style:{fontSize:"16px",marginBottom:"10px"},children:["COINS EARNED: ",e.coins]}),u.jsxs("div",{style:{fontSize:"16px",marginBottom:"10px"},children:["INVENTORY: ",e.inventory.length," ITEMS"]}),u.jsxs("div",{style:{fontSize:"16px"},children:["DIFFICULTY: ",e.difficultyStake.toUpperCase()]})]}),u.jsxs("div",{style:{display:"flex",gap:"20px",flexDirection:"column",alignItems:"center"},children:[u.jsx("button",{className:"gb-button",onClick:()=>{t({type:"START_NEW_RUN",payload:{stake:e.difficultyStake}})},style:{fontSize:"18px",padding:"16px 32px",background:"var(--color-text)",color:"var(--color-bg)",border:"3px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer",minWidth:"200px"},children:"NEW RUN [>]"}),u.jsx("button",{className:"gb-button",onClick:()=>{t({type:"RESET_GAME"})},style:{fontSize:"16px",padding:"12px 24px",background:"var(--color-bg)",color:"var(--color-text)",border:"3px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer",minWidth:"200px"},children:"MAIN MENU"})]})]})}function ee(){const{gameState:t,dispatch:o}=k(),[r,n]=e.useState([]),[i,a]=e.useState(3),[s,l]=e.useState(!0),[c,d]=e.useState(null),[p,m]=e.useState(!1);e.useEffect(()=>{n(g()),l(!1)},[]);const g=()=>{const e=[],o=new Set(t.inventory.map(e=>e.name));for(let r=0;r<6;r++){let r,n=0;do{if(r=z(t.currentLevel),n++,n>50)break}while(o.has(r.name));n<=50&&o.add(r.name);const i=h(),a=f(i,t.currentLevel);e.push({id:r.id,name:r.name,description:r.description,rarity:i,cost:a,sellValue:Math.floor(.5*a),effect:y(r.effect),emoji:v(r.name),purchaseLevel:t.currentLevel,timesUsed:0,stackCount:1,perkEffect:r.effect})}return e},x=()=>{m(!1),d(null)},h=()=>{const e=Math.random();return e<.7?"common":e<.95?"uncommon":e<.99?"rare":"legendary"},f=(e,t)=>Math.floor({common:10,uncommon:25,rare:60,legendary:150}[e]*(1+.2*t)),v=e=>({"Letter Alchemist":"🔮","Vowel Vampire":"🧛","Consonant Crusher":"💪","Golden Vowels":"✨","Length Lord":"📏","Short Stack":"📦","Long Shot":"🎯","Perfect Length":"⭐","Time Warp":"⏰","Speed Demon":"⚡","Time Bank":"🏦","Frozen Time":"❄️","Palindrome Prince":"👑","Anagram King":"🎭","Rhyme Master":"🎵","Alliteration Ace":"🎪","Diagonal Dancer":"💃",Pathfinder:"🗺️","Grid Master":"🎮","Spiral Seeker":"🌀","Score Doubler":"🎲","Chain Master":"⛓️","Combo King":"👑","Streak Seeker":"🔥","Noun Hunter":"🏹","Verb Virtuoso":"🎭","Adjective Ace":"🎨","Plural Power":"📚","Word Echo":"🔄","Letter God":"👑","Infinite Loop":"♾️","Reality Hack":"💻","Coin Magnet":"🧲","Rich Words":"💰","Investment Banker":"🏛️","Lucky Strike":"🍀","Synergy Master":"🔗","Power Collector":"🃏","Perfect Pair":"💕","Trinity Force":"☯️","Risk Taker":"🎲","Speed Runner":"🏃",Perfectionist:"✨",Underdog:"🐕","Wild Card":"🃏","Power Wild":"🎭","Chaos Theory":"🌪️","Quantum Leap":"🚀","Meta Master":"🧠","Power Power":"🎪","Infinite Power":"♾️","Power God":"👑"}[e]||"🎯"),y=e=>{switch(e.type){case"timeBonus":return{type:"timeExtender",seconds:e.seconds};case"scoreMultiplier":return{type:"letterMultiplier",value:e.value};case"coinMultiplier":return{type:"coinMultiplier",value:e.value};default:return{type:"letterMultiplier",value:1.5}}};return u.jsxs("div",{style:{width:"100vw",height:"calc(var(--vh, 1vh) * 100)",display:"flex",flexDirection:"column",background:"var(--color-bg)",overflow:"hidden",position:"fixed",top:0,left:0},children:[u.jsxs("div",{style:{width:"100%",height:"80px",background:"var(--color-bg)",border:"3px solid var(--color-text)",borderBottom:"3px solid var(--color-text)",display:"flex",alignItems:"center",justifyContent:"center",paddingTop:"calc(env(safe-area-inset-top, 0px) + 12px)",paddingLeft:"12px",paddingRight:"12px",position:"relative"},children:[u.jsx("h1",{style:{fontSize:"24px",fontWeight:"bold",textAlign:"center",margin:0,color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",textTransform:"uppercase"},children:"[S] POWER-UP SHOP [S]"}),u.jsx("div",{style:{position:"absolute",top:"16px",right:"16px",width:"8px",height:"8px",background:"var(--color-text)"}})]}),u.jsx("div",{style:{width:"100%",height:"60px",background:"var(--color-accent)",border:"3px solid var(--color-text)",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 20px"},children:u.jsxs("div",{style:{fontSize:"22px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px",color:"var(--color-bg)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",textTransform:"uppercase"},children:[u.jsx("span",{style:{fontSize:"24px"},children:"[C]"}),u.jsx("span",{children:t.coins})]})}),u.jsxs("div",{style:{flex:1,padding:"16px",overflowY:"auto",background:"var(--color-bg)",border:"3px solid var(--color-text)"},children:[u.jsxs("div",{style:{marginBottom:"30px"},children:[u.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",textAlign:"center",marginBottom:"20px",textTransform:"uppercase"},children:"[S] SHOP ITEMS [S]"}),s?u.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontSize:"16px"},children:"LOADING SHOP ITEMS..."}):0===r.length?u.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--color-accent)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontSize:"16px"},children:"NO ITEMS AVAILABLE"}):u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",maxWidth:"1200px",margin:"0 auto"},children:r.map((e,t)=>u.jsxs("div",{className:"gb-button",style:{cursor:"pointer",minHeight:"280px",display:"flex",flexDirection:"column",background:"var(--color-bg)",color:"var(--color-text)",border:"legendary"===e.rarity?"4px solid var(--color-text)":"rare"===e.rarity?"3px solid var(--color-text)":"2px solid var(--color-text)",padding:"16px",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",textAlign:"center",position:"relative",transition:"transform 0.1s ease"},onClick:()=>(e=>{d(e),m(!0)})(e),onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.02)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[u.jsx("div",{style:{fontSize:"12px",fontWeight:"bold",textTransform:"uppercase",color:"var(--color-text)"},children:e.rarity}),u.jsxs("div",{style:{fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"4px",color:"var(--color-text)"},children:[u.jsx("span",{children:"[C]"}),u.jsx("span",{children:e.cost})]})]}),u.jsx("div",{style:{fontSize:"48px",textAlign:"center",marginBottom:"12px",fontWeight:"bold",color:"var(--color-text)"},children:e.emoji}),u.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",color:"var(--color-text)",marginBottom:"8px",textTransform:"uppercase",lineHeight:1.2},children:e.name}),u.jsx("div",{style:{fontSize:"12px",color:"var(--color-text)",lineHeight:1.3,flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:e.description}),u.jsx("div",{style:{fontSize:"10px",color:"var(--color-accent)",marginTop:"8px",fontStyle:"italic"},children:"CLICK TO VIEW DETAILS"})]},t))})]}),u.jsxs("div",{style:{marginBottom:"30px"},children:[u.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",textAlign:"center",marginBottom:"20px",textTransform:"uppercase"},children:"[I] INVENTORY [I]"}),0===t.inventory.length?u.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--color-accent)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontSize:"16px"},children:"NO ITEMS OWNED"}):u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",maxWidth:"1200px",margin:"0 auto"},children:t.inventory.map((e,t)=>u.jsxs("div",{style:{minHeight:"200px",display:"flex",flexDirection:"column",background:"var(--color-accent)",color:"var(--color-bg)",border:"2px solid var(--color-text)",padding:"16px",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",textAlign:"center",position:"relative"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[u.jsx("div",{style:{fontSize:"12px",fontWeight:"bold",textTransform:"uppercase"},children:"OWNED"}),u.jsxs("div",{style:{fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"4px"},children:[u.jsx("span",{children:"[S]"}),u.jsx("span",{children:e.sellValue})]})]}),u.jsx("div",{style:{fontSize:"36px",textAlign:"center",marginBottom:"12px",fontWeight:"bold"},children:e.emoji}),u.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"8px",textTransform:"uppercase",lineHeight:1.2},children:e.name}),e.stackCount>1&&u.jsxs("div",{style:{fontSize:"12px",marginTop:"8px",fontWeight:"bold"},children:["STACK: ",e.stackCount]}),u.jsx("button",{onClick:()=>{return t=e.id,void o({type:"SELL_INVENTORY_ITEM",payload:{itemId:t}});var t},style:{marginTop:"12px",padding:"8px 16px",background:"var(--color-bg)",color:"var(--color-text)",border:"2px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",textTransform:"uppercase"},children:"SELL"})]},t))})]}),u.jsxs("div",{style:{display:"flex",gap:"16px",justifyContent:"center",marginTop:"20px"},children:[u.jsxs("button",{onClick:()=>{t.coins>=i&&(o({type:"SPEND_COINS",payload:i}),n(g()),a(e=>Math.min(10,e+1)))},disabled:t.coins<i,style:{padding:"12px 24px",background:t.coins>=i?"var(--color-accent)":"var(--color-bg)",color:t.coins>=i?"var(--color-bg)":"var(--color-text)",border:"3px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontSize:"16px",fontWeight:"bold",cursor:t.coins>=i?"pointer":"not-allowed",textTransform:"uppercase"},children:["REROLL [C] ",i]}),u.jsx("button",{onClick:()=>{o({type:"NEXT_LEVEL"})},style:{padding:"12px 24px",background:"var(--color-accent)",color:"var(--color-bg)",border:"3px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontSize:"16px",fontWeight:"bold",cursor:"pointer",textTransform:"uppercase"},children:"CONTINUE"})]})]}),p&&c&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:u.jsxs("div",{style:{background:"var(--color-bg)",border:"4px solid var(--color-text)",padding:"24px",maxWidth:"400px",width:"100%",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",textAlign:"center"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[u.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",color:"var(--color-text)"},children:c.rarity}),u.jsxs("div",{style:{fontSize:"16px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"4px",color:"var(--color-text)"},children:[u.jsx("span",{children:"[C]"}),u.jsx("span",{children:c.cost})]})]}),u.jsx("div",{style:{fontSize:"64px",textAlign:"center",marginBottom:"16px",fontWeight:"bold",color:"var(--color-text)"},children:c.emoji}),u.jsx("div",{style:{fontSize:"20px",fontWeight:"bold",color:"var(--color-text)",marginBottom:"12px",textTransform:"uppercase",lineHeight:1.2},children:c.name}),u.jsx("div",{style:{fontSize:"14px",color:"var(--color-text)",lineHeight:1.4,marginBottom:"20px"},children:c.description}),u.jsx("div",{style:{fontSize:"12px",color:"var(--color-accent)",lineHeight:1.3,marginBottom:"20px",padding:"12px",background:"var(--color-bg)",border:"2px solid var(--color-text)"},children:te(c.perkEffect)}),u.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[u.jsx("button",{onClick:x,style:{padding:"8px 16px",background:"var(--color-bg)",color:"var(--color-text)",border:"2px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontSize:"14px",fontWeight:"bold",cursor:"pointer",textTransform:"uppercase"},children:"CLOSE"}),u.jsx("button",{onClick:()=>(e=>{if(t.coins>=e.cost){const r={...e,sellValue:Math.floor(.5*e.cost),purchaseLevel:t.currentLevel,timesUsed:0,stackCount:1};o({type:"PURCHASE_INVENTORY_ITEM",payload:{item:r}}),n(t=>t.filter(t=>t.id!==e.id)),c&&c.id===e.id&&x()}})(c),disabled:t.coins<c.cost,style:{padding:"8px 16px",background:t.coins>=c.cost?"var(--color-accent)":"var(--color-bg)",color:t.coins>=c.cost?"var(--color-bg)":"var(--color-text)",border:"2px solid var(--color-text)",fontFamily:"'Courier New', 'Monaco', 'Menlo', monospace",fontSize:"14px",fontWeight:"bold",cursor:t.coins>=c.cost?"pointer":"not-allowed",textTransform:"uppercase"},children:"PURCHASE"})]})]})})]})}const te=e=>{switch(e.type){case"scoreMultiplier":return`This power card multiplies ALL your word scores by ${e.value}x. This is a powerful effect that works on every word you find!`;case"timeBonus":return`Adds ${e.seconds} seconds to your time limit. Perfect for when you need more time to find those long words!`;case"vowelTheft":return`Has a ${Math.floor(100*e.chance)}% chance to steal a vowel from unused words, giving you a 1.5x score bonus. Vowels are precious!`;case"consonantMultiplier":return`All consonants in your words are worth ${e.value}x points. Great for consonant-heavy words!`;case"goldenVowels":return"All vowels become golden and worth 3x points. Vowels are now your best friends!";case"lengthBonus":return`Each letter in your words adds +${e.value}% to the score. Longer words get bigger bonuses!`;case"shortWordMultiplier":return`Short words (2-3 letters) score ${e.value}x. Perfect for quick scoring!`;case"longWordMultiplier":return`Long words (8+ letters) score ${e.value}x. Rewards your word-finding skills!`;case"perfectLength":return`5-letter words score ${e.value}x. The perfect length gets the perfect bonus!`;case"palindromeMultiplier":return`Palindromes (words that read the same forwards and backwards) score ${e.value}x. Racecar!`;case"anagramMultiplier":return`Anagrams (words with the same letters rearranged) score ${e.value}x. Find word families!`;case"rhymeMultiplier":return`Rhyming words score ${e.value}x. Sound patterns matter!`;case"alliterationMultiplier":return`Alliterations (words starting with the same letter) score ${e.value}x. All about that alliteration!`;case"wordEcho":return`Has a ${Math.floor(100*e.chance)}% chance to duplicate your word, giving you double the score!`;case"coinPerWord":return`Gives you +${e.value} coins for every word you find. Build your wealth!`;case"wordToCoins":return"Longer words give you bonus coins. More letters = more money!";case"luckyCoins":return`Has a ${Math.floor(100*e.chance)}% chance to give you +10 coins. Lady luck smiles upon you!`;case"jokerMultiplier":return"Each power card you own adds +0.5x to your score multiplier. Collect them all!";default:return"This power card has a special effect that will help you score more points and progress further in the game!"}};function oe(e){return`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`}function re(){const{gameState:t}=k();return e.useEffect(()=>{W().then(e=>{}),document.documentElement.setAttribute("data-theme","retro");const e=()=>{const e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`),getComputedStyle(document.documentElement).getPropertyValue("--safe-area-inset-top"),getComputedStyle(document.documentElement).getPropertyValue("--safe-area-inset-bottom")};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),t.gameStarted&&"menu"!==t.gamePhase?u.jsx("div",{className:"game-screen crt-effect",children:u.jsx("div",{className:"pixel-container",children:u.jsx(J,{})})}):u.jsx("div",{className:"game-screen crt-effect",children:u.jsx("div",{className:"pixel-container",children:u.jsx(j,{})})})}function ne(){return u.jsx("div",{className:"crt-screen",children:u.jsx(S,{children:u.jsx(v,{children:u.jsx(re,{})})})})}m.createRoot(document.getElementById("root")).render(u.jsx(o.StrictMode,{children:u.jsx(ne,{})}));
